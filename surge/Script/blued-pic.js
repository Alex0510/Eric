
;var encode_version = 'jsjiami.com.v5', wdsvf = '__0x11a63a',  __0x11a63a=['54O95YeS5q626YO+552i5p+J55+/GXIP','w5gLwoFdOQ==','w7s6wrzDmcOi','w6pgw4PCn0M=','w6/DtyA6wp3CtcKz','S3vDjFhy','YTbClcKJwqA=','wp3CmMKKFBlVbQ==','wrTDvmpww6k=','wq/DssO9','wp7CrShaEQ==','wog4SMObw4Y=','KsOzw7BGw74=','w6I+w5A=','IELCoQ==','wrM4UMOSw4s=','BW0rCwM=','w70CX2Zy','w6nDoiQywoU=','wpcEPcKAEg==','eV/Dsw==','wr3CkxJRJl4/w4/CuA19SxbCgl7Dnw==','wpMSS2HDgjtaLHdtIkvCucKlw7VPw53ColY2P8KUTMOtw79xXsOhw6LCmMK0SEZ0wp7DtsK5w55lw4jCohrCo8OCWgPDqMKxZsKLwooaw6fCqsKAfVh4w4AbEHY=','w4rCrxAt','w60hwpDDplE=','w7/Du2FbwrY=','w6p6w6I=','JWJP','54iL5p+65Y+O77+FHcOb5L+q5a+75p+55b6A56uf77266Lyx6K+75pau5oyA5ouP5Lms55qM5bar5L61','wqnCrSg=','wrMqOsKONQ==','w6TDkxI5PQ==','woV3WRzCoA==','w4/DrSwDBg==','w6QVw5t3Hg==','d3LDvVJk','N1DDn8OdUA==','PsOOV8Ofwow=','bRrClMK6','w68Fw7ZtPw==','w5E0wrArwpU=','wq1zQMKq','W8OFaMKuAA==','dSfCksKFwqU=','ccOUwqTCrhA=','wrozY8Oyw6Y=','w79iMGzCuQ==','w73DsUzDnMKY','w6TDlHbDmcOG','w5zDr0tmwos=','wrh/XcKXw6Y=','w5DDkmdgwok=','w7URY2Bs','JsKxEi4Q','wrV8Tw==','QcOswqLCqQ8=','wq/CqB9UPg==','Z8OfwozCpmA=','EnPDvw==','bnzCqVfDhcOT','w75Hw6DCpeW3qOaJnOWKhuaNsOiPusOtw4UQw47lrp7nhpc=','54K+5YWf5q+j6YC355+e5pyB55y9XQg8','5LqR56KJ5omi6KO15YSE6ZSt','AcKOJRMD','w6JMHk/CiQ==','w4MEwqpNNw==','wpjDslxbw54=','w6kswoXDq15dw70=','IGVfwqFS','U3LDknFs','wrxcYy7Cg2UT','AH3Cj8KHWA==','w4rDg08=','w7k6wqfDvnY=','dcOFR8KHCw==','wrvDsCspw4jDhQ==','wq4mXg==','PFc2Jw4=','w7vDsGJdwqNcwro=','wrxuVD/CkA==','VGTCgQ==','wpclPsKoBg==','w4LDvnvDjcOD','SgDCisKkMw==','a8O/b8KuIQ==','w64kwoddMg==','VMOawpdNw6g=','w4bDtTYvwq4=','w512InjCvg==','w5jDsnNfwpA=','KnJowrMx','w6J+AcKOw6U=','Qx3CnsK4wrI=','w5UrwqcawozCscOd','fX3CoHHDmMOTw74=','w5rDlFg=','L8Ozw4Y=','woc8w5JCaRzDssKcRxxiw7VUw53DgcOSw4s=','w60iw5JJBw==','cWrDt2lt','Gl7CtsKEbQ==','wrEjJsK0OA==','YMOhwoPCqXg=','w53DvMKLwp4=','w4PDlUrDg8K6','F8OwZsOcwo5AwrRMIA==','CBfCp2V6','MFvCs8KHw6I=','w7rDunY=','wq53QcKw','wo/CjcKOHAE=','XcO2wo3CsV4=','PcOuXcOdwrU=','wqoeX8O8w6Q=','E8KbIRsbDB4=','w6QKwr3DicOV','w54lcg==','w6vCsDsQQg==','LcKEbcKZDw==','asOIwo3CkmE=','w4AmeUdT','wo7DmX1bw5fCimU=','IEzCsMKRw6A=','wqHDrsO0wqYpwqFD','w7Q4wo3DrcOWwp7CjyQA','w5haw6fCtXUgfA==','IsOtw6ZF','ClUCDDQjQg==','wrLDrT4Dw4g=','w4DCrhcqYD43','wpnCnMKMHg==','A8KROwwVFBo=','ZkHDlGNG','dRDCgA==','G14BNis=','w4pgIMKmw74=','Q8OUwpXCrW0=','w5sJwoluGg==','NMO9d8Ozwpc=','RnbCrGHDlA==','wq5WCMO8ZA==','RsOLwphew6M=','wpR8X8Ktw6w=','wqTDglpmw5I=','V8Ovw6Zraw==','JWxrwrtB','eMO1wopkw58=','M3R0','KkN5','SS7CoA==','AHJu','w51Aw6fCpW4ldkttwqXDuFrCl3LCrMK1','w7/DqiVyL3h6w74lwqbChR3ChlTCsQrCj8OWPcKqUMOnTmHCqcKsw70CwpXCuMKKH8Kbw7h2w4cIbMKEwqfCpMOfwqQuw5woBwg+woMdw5lEw6VYwqLCusOrwrfDiMKMQQ==','JF9ywoM=','Lll6wp4L','HXjCisKgXg==','woDDmsK6','KlQc','5YmG6Zmz54uN5p6U5Y+r77+URVnkvpHlrYvmnZ7lvZnnqJk=','AcO8d8OQwpBT','ZsOAwro=','J8Omw65Nw7PDjQ==','wp53bw==','wrpJVQ==','VlEVwrB9bn4cwqvCu8OIecO4M8OHHMK1','wqnDo8K2wrHCnw==','BF/CtMKbUw==','wpTDu8KjwprCrg==','wrB4UsKaw6s=','wo7Dl8OXwqIU','Bn5wwqUY','Lg7Cuw==','w7l3w4g=','wp/CqRN4Fg==','TgbCpMK4FQ==','wrfDgcK+woXCqA==','w7dGw6DCs1M=','NVJuwq8N','wpnCisKPGSo=','wqbDmMKCwp3CtA==','w5cwwpVSKA==','WcOdwqHCsD4=','R8Ofwr3Cpkk=','SznCv8K8wp4=','IMOOXcOLwpY=','SSjCkcK5wrE=','w4bDoyM0wrk=','wqgQUMOWw4w=','AGRUwqQv','bMOkwpZww7g=','w7TDjGHDtMOk','wq9MW8KGw6o=','LizCg3hD','w4chwp3DmGU=','w6UifHhU','wrxJeyPClg==','wqDDvj4C','RAfCjg==','dsOpYMK4','wrbDs8O7wrYj','dlbDl3VE','MXxYwpxS','w6XDtmrDssK0','WEbCnXjDuQ==','woHCtBFoHg==','BsO9TsOswrA=','woMiK8K1LQ==','w6tgJMKMw7Y=','BWd/wolR','w5/DtHh0wo8=','w73DnhoLKw==','w7nDjHJ4wqg=','w4MpwqFMPQ==','woYuG8K/Lw==','w5fCpAot','JXnCqMKPw5U=','MVEIMgo=','E8OYf8OSwqw=','wqoaVcOqw74=','aHDCnXDDvw==','w5N6M1nCvw==','V0HDnGPmjbbojoc=','w6PDp30=','w4jDs3nDhMOOw5E3','NsKlXMK7WsOJwpcEwojDjQ==','wrYmXMOvwqXDnyjChMK+w7M=','w5Jbw63Co2IDfw==','FmJfwpZE','w5XDpX3DksKGw4Ijw4Rwwoc=','w5o4cUtfwofDsw==','w7bDvsKYwpQI','w7HDsGVKwqNPwr4=','wp7Ck8KZJQpN','YVbDgWRCRMOp','wqfDsSs5w4jDmw==','TcOBwrw=','wofDs8OzwrbltrTmi53lirnmjY3ojIfDvMO3w6XDhuWvgueGqA==','54Kq5YWq5q6L6YOa55+p5p+n55yyNELDsw==','dRDCgMKLwoQX','w5s3wq4=','5LiO56K35om06KGk5YWC6Ze/','w5ZQw7rCtXsrfA==','AnjDq8Od','w5bCrx08aTs8wqR7','w4/DtHLDhcOIw5c=','w5A1wotdJQnCr8KO','fljDuw==','w7fDt8Kn','w6EuwonDncOUwoY=','wopLfinltJDmiIHli63mjYboj7pQc1HDqOWtnOeGqA==','54Oa5YeW5q2A6YOW556o5p+3552DMMOWwoA=','woLDrsOZwo1cwp/CocKuamfCo1fDjQ==','Kk9+','wrZCQQ==','TRrCnQ==','QhvCg8KgOgQWH8O2O0cOLcKE','54mb5p695YyY77+MZnHkvKPlr77mnJPlvo3nq5zvvonovqPor6Tml5fmjKLmiKbkuajnmZHlt5zkvbE=','5YqM6Zm954ir5p+T5Y2A77y6w4nDk+S+reWtm+aehuW9meeqrQ==','CEDDsA==','ZsOmwpM=','wrM7XsOIw7rDkg==','w6vDlMKkwpjltKTmi73liqjmj5Poj5XDksOew7zDjuWsgOeEiQ=='];(function(_0x4a423a,_0x55bfb6){var _0x3e40b4=function(_0x108c7b){while(--_0x108c7b){_0x4a423a['push'](_0x4a423a['shift']());}};var _0x253153=function(){var _0x2bbed9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x461b06,_0x2ffaa8,_0x40bd66,_0x5b7d1f){_0x5b7d1f=_0x5b7d1f||{};var _0x1aa006=_0x2ffaa8+'='+_0x40bd66;var _0x3118b5=0x0;for(var _0x3118b5=0x0,_0x308f68=_0x461b06['length'];_0x3118b5<_0x308f68;_0x3118b5++){var _0x23dfb3=_0x461b06[_0x3118b5];_0x1aa006+=';\x20'+_0x23dfb3;var _0x1f550e=_0x461b06[_0x23dfb3];_0x461b06['push'](_0x1f550e);_0x308f68=_0x461b06['length'];if(_0x1f550e!==!![]){_0x1aa006+='='+_0x1f550e;}}_0x5b7d1f['cookie']=_0x1aa006;},'removeCookie':function(){return'dev';},'getCookie':function(_0x16f855,_0x1a4e2d){_0x16f855=_0x16f855||function(_0x107e62){return _0x107e62;};var _0x5b98a9=_0x16f855(new RegExp('(?:^|;\x20)'+_0x1a4e2d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x178708=function(_0x5c9079,_0x438eab){_0x5c9079(++_0x438eab);};_0x178708(_0x3e40b4,_0x55bfb6);return _0x5b98a9?decodeURIComponent(_0x5b98a9[0x1]):undefined;}};var _0x161e88=function(){var _0x43d093=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x43d093['test'](_0x2bbed9['removeCookie']['toString']());};_0x2bbed9['updateCookie']=_0x161e88;var _0x30b422='';var _0x1fb826=_0x2bbed9['updateCookie']();if(!_0x1fb826){_0x2bbed9['setCookie'](['*'],'counter',0x1);}else if(_0x1fb826){_0x30b422=_0x2bbed9['getCookie'](null,'counter');}else{_0x2bbed9['removeCookie']();}};_0x253153();}(__0x11a63a,0xdd));var _0x6dcc=function(_0x5ac5df,_0x42f546){_0x5ac5df=_0x5ac5df-0x0;var _0x2eea72=__0x11a63a[_0x5ac5df];if(_0x6dcc['initialized']===undefined){(function(){var _0x3ee1e5=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x189e34='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x3ee1e5['atob']||(_0x3ee1e5['atob']=function(_0x59cb46){var _0x3f736c=String(_0x59cb46)['replace'](/=+$/,'');for(var _0x5cb24e=0x0,_0x468360,_0x3bf59d,_0xf8c2d2=0x0,_0x48703f='';_0x3bf59d=_0x3f736c['charAt'](_0xf8c2d2++);~_0x3bf59d&&(_0x468360=_0x5cb24e%0x4?_0x468360*0x40+_0x3bf59d:_0x3bf59d,_0x5cb24e++%0x4)?_0x48703f+=String['fromCharCode'](0xff&_0x468360>>(-0x2*_0x5cb24e&0x6)):0x0){_0x3bf59d=_0x189e34['indexOf'](_0x3bf59d);}return _0x48703f;});}());var _0x3e033a=function(_0x5a729c,_0xb77b32){var _0x5b1b77=[],_0x5e1470=0x0,_0x2a78b5,_0x3b9adc='',_0x467794='';_0x5a729c=atob(_0x5a729c);for(var _0x32ee56=0x0,_0x459427=_0x5a729c['length'];_0x32ee56<_0x459427;_0x32ee56++){_0x467794+='%'+('00'+_0x5a729c['charCodeAt'](_0x32ee56)['toString'](0x10))['slice'](-0x2);}_0x5a729c=decodeURIComponent(_0x467794);for(var _0x28d61f=0x0;_0x28d61f<0x100;_0x28d61f++){_0x5b1b77[_0x28d61f]=_0x28d61f;}for(_0x28d61f=0x0;_0x28d61f<0x100;_0x28d61f++){_0x5e1470=(_0x5e1470+_0x5b1b77[_0x28d61f]+_0xb77b32['charCodeAt'](_0x28d61f%_0xb77b32['length']))%0x100;_0x2a78b5=_0x5b1b77[_0x28d61f];_0x5b1b77[_0x28d61f]=_0x5b1b77[_0x5e1470];_0x5b1b77[_0x5e1470]=_0x2a78b5;}_0x28d61f=0x0;_0x5e1470=0x0;for(var _0x40138b=0x0;_0x40138b<_0x5a729c['length'];_0x40138b++){_0x28d61f=(_0x28d61f+0x1)%0x100;_0x5e1470=(_0x5e1470+_0x5b1b77[_0x28d61f])%0x100;_0x2a78b5=_0x5b1b77[_0x28d61f];_0x5b1b77[_0x28d61f]=_0x5b1b77[_0x5e1470];_0x5b1b77[_0x5e1470]=_0x2a78b5;_0x3b9adc+=String['fromCharCode'](_0x5a729c['charCodeAt'](_0x40138b)^_0x5b1b77[(_0x5b1b77[_0x28d61f]+_0x5b1b77[_0x5e1470])%0x100]);}return _0x3b9adc;};_0x6dcc['rc4']=_0x3e033a;_0x6dcc['data']={};_0x6dcc['initialized']=!![];}var _0x40f4e2=_0x6dcc['data'][_0x5ac5df];if(_0x40f4e2===undefined){if(_0x6dcc['once']===undefined){var _0x4ba657=function(_0x152799){this['rc4Bytes']=_0x152799;this['states']=[0x1,0x0,0x0];this['newState']=function(){return'newState';};this['firstState']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['secondState']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4ba657['prototype']['checkState']=function(){var _0x1b0f80=new RegExp(this['firstState']+this['secondState']);return this['runState'](_0x1b0f80['test'](this['newState']['toString']())?--this['states'][0x1]:--this['states'][0x0]);};_0x4ba657['prototype']['runState']=function(_0x13d3c0){if(!Boolean(~_0x13d3c0)){return _0x13d3c0;}return this['getState'](this['rc4Bytes']);};_0x4ba657['prototype']['getState']=function(_0xf022f2){for(var _0x42e2c0=0x0,_0x524555=this['states']['length'];_0x42e2c0<_0x524555;_0x42e2c0++){this['states']['push'](Math['round'](Math['random']()));_0x524555=this['states']['length'];}return _0xf022f2(this['states'][0x0]);};new _0x4ba657(_0x6dcc)['checkState']();_0x6dcc['once']=!![];}_0x2eea72=_0x6dcc['rc4'](_0x2eea72,_0x42f546);_0x6dcc['data'][_0x5ac5df]=_0x2eea72;}else{_0x2eea72=_0x40f4e2;}return _0x2eea72;};const _0x5df2d4=new Env(_0x6dcc('0x0','h2T1'));const _0x404fc6=$request[_0x6dcc('0x1','y*1C')];const _0xfa2157=$request[_0x6dcc('0x2','Cx!A')];if(_0xfa2157[_0x6dcc('0x3','[asy')]&&(_0xfa2157[_0x6dcc('0x4','P]fX')][_0x6dcc('0x5','A^WP')](_0x6dcc('0x6','@rCw'))!==-0x1||_0xfa2157[_0x6dcc('0x7','Cx!A')][_0x6dcc('0x8','lf&u')](_0x6dcc('0x9','!CYF'))!==-0x1)){try{const _0x1f0adf=_0x5df2d4[_0x6dcc('0xa','y*1C')](_0x6dcc('0xb','V5cT'));if(!_0x1f0adf||_0x1f0adf!==_0x404fc6){_0x5df2d4[_0x6dcc('0xc','h2T1')](_0x404fc6,_0x6dcc('0xd','eSsl'));_0x5df2d4[_0x6dcc('0xe','yLXq')](_0x6dcc('0xf','OhvQ'),_0x6dcc('0x10','#M%6'),'',{'open-url':_0x404fc6,'media-url':_0x404fc6});}}catch(_0x42a76b){_0x5df2d4[_0x6dcc('0x11','Y!rz')](_0x42a76b);_0x5df2d4[_0x6dcc('0x12','icjy')](_0x6dcc('0x13','Bu9k'),'',_0x42a76b[_0x6dcc('0x14','A^WP')]);}}_0x5df2d4[_0x6dcc('0x15','VJs3')]({});;(function(_0x5f1d0f,_0x2febc3,_0x4bf9e7){var _0x493426=function(){var _0xdee093=!![];return function(_0x481872,_0x200c69){var _0x57532c=_0xdee093?function(){if(_0x200c69){var _0x4e0834=_0x200c69['apply'](_0x481872,arguments);_0x200c69=null;return _0x4e0834;}}:function(){};_0xdee093=![];return _0x57532c;};}();var _0x9ff42=_0x493426(this,function(){var _0x314dfe=function(){return'\x64\x65\x76';},_0x1be6d3=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x32a08c=function(){var _0x1b2a69=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x1b2a69['\x74\x65\x73\x74'](_0x314dfe['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3c0990=function(){var _0x1e742d=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1e742d['\x74\x65\x73\x74'](_0x1be6d3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x102560=function(_0x56116a){var _0x51a4e8=~-0x1>>0x1+0xff%0x0;if(_0x56116a['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x51a4e8)){_0x35d206(_0x56116a);}};var _0x35d206=function(_0x4f8d07){var _0x4529db=~-0x4>>0x1+0xff%0x0;if(_0x4f8d07['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x4529db){_0x102560(_0x4f8d07);}};if(!_0x32a08c()){if(!_0x3c0990()){_0x102560('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x102560('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x102560('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x9ff42();var _0x1f62c6={'Xdbcc':function _0x268abe(_0x4290de,_0x290d42){return _0x4290de!==_0x290d42;},'thLJB':_0x6dcc('0x16','pua&'),'NgbqR':function _0x42682e(_0x31163d,_0x3b6a04){return _0x31163d===_0x3b6a04;},'ZbyvD':_0x6dcc('0x17','Cx!A'),'gCsDT':_0x6dcc('0x18','8[p@'),'OfXdK':_0x6dcc('0x19','h2T1'),'iKfal':_0x6dcc('0x1a','!CYF'),'uJSAs':_0x6dcc('0x1b','Rn1M'),'HqBIM':_0x6dcc('0x1c','#INe'),'nRTPx':_0x6dcc('0x1d','E09Z'),'yYbRm':_0x6dcc('0x1e','!CYF'),'sWCur':function _0x207feb(_0x3a35c9,_0x475251,_0xd5707b){return _0x3a35c9(_0x475251,_0xd5707b);},'rdmIp':function _0x3a2d0c(_0x5b6842){return _0x5b6842();},'fyCYI':function _0x2bc931(_0x309661,_0x4f9cba){return _0x309661===_0x4f9cba;},'PEzma':_0x6dcc('0x1f','E09Z'),'mIlPK':_0x6dcc('0x20','iVi6'),'FurJi':_0x6dcc('0x21','axg!'),'MjlsK':_0x6dcc('0x22','axg!'),'ItINj':function _0x32cd33(_0x33fdda,_0x5e0f5b){return _0x33fdda+_0x5e0f5b;},'PKaFP':_0x6dcc('0x23','#M%6'),'qbAHa':_0x6dcc('0x24','66yV')};var _0x3c3710=function(){var _0x51357b=!![];return function(_0x41d5ef,_0x460511){var _0x331d5c={'nKdch':function _0x2444d2(_0x1abb4f,_0x395e57){return _0x1abb4f===_0x395e57;},'jzRQD':_0x6dcc('0x25','VJs3'),'QUJYY':_0x6dcc('0x26','yLXq'),'YHyXQ':_0x6dcc('0x27','P]fX'),'xIrGV':function _0x490755(_0x22562a,_0x24af0b){return _0x22562a!==_0x24af0b;},'EKThC':_0x6dcc('0x28','i0Au'),'KmqFN':_0x6dcc('0x29','e&zO')};if(_0x331d5c[_0x6dcc('0x2a','8[p@')](_0x331d5c[_0x6dcc('0x2b','Rn1M')],_0x331d5c[_0x6dcc('0x2c','A^WP')])){const _0x532106=_0x5df2d4[_0x6dcc('0x2d','fvR6')](_0x331d5c[_0x6dcc('0x2e','h2T1')]);if(!_0x532106||_0x331d5c[_0x6dcc('0x2f','Y!rz')](_0x532106,_0x404fc6)){_0x5df2d4[_0x6dcc('0x30','V5cT')](_0x404fc6,_0x331d5c[_0x6dcc('0x31','Bu9k')]);_0x5df2d4[_0x6dcc('0x32','OhvQ')](_0x331d5c[_0x6dcc('0x33','OwY@')],_0x331d5c[_0x6dcc('0x34','P]fX')],'',{'open-url':_0x404fc6,'media-url':_0x404fc6});}}else{var _0x210119=_0x51357b?function(){if(_0x460511){var _0xd6ba97=_0x460511[_0x6dcc('0x35','x#9u')](_0x41d5ef,arguments);_0x460511=null;return _0xd6ba97;}}:function(){};_0x51357b=![];return _0x210119;}};}();(function(){var _0x478a32={'pmiOC':function _0x25c9af(_0x1bbfc5,_0x2af061){return _0x1bbfc5===_0x2af061;},'lWGtX':_0x6dcc('0x36','FnLw'),'NTJHU':_0x6dcc('0x37','e&zO'),'aORGS':function _0x3dc15b(_0x5c2f79,_0x305f64,_0x26aff4){return _0x5c2f79(_0x305f64,_0x26aff4);}};if(_0x478a32[_0x6dcc('0x38','P]fX')](_0x478a32[_0x6dcc('0x39','32bh')],_0x478a32[_0x6dcc('0x3a','lf&u')])){if(fn){var _0x239068=fn[_0x6dcc('0x3b','fvR6')](context,arguments);fn=null;return _0x239068;}}else{_0x478a32[_0x6dcc('0x3c','Z(ey')](_0x3c3710,this,function(){var _0x16d5cb={'EaUIt':function _0x186c08(_0x34ebf9,_0x37ae5d){return _0x34ebf9!==_0x37ae5d;},'JNNVB':_0x6dcc('0x3d','h2T1'),'bglkU':_0x6dcc('0x3e','OwY@'),'eAHRG':_0x6dcc('0x3f','#INe'),'QGZeL':function _0x240ef0(_0xeeb238,_0x15574f){return _0xeeb238(_0x15574f);},'LFRfr':_0x6dcc('0x40','pua&'),'iwAqt':function _0x2909c8(_0x340d46,_0x4a6cb8){return _0x340d46+_0x4a6cb8;},'gpyBv':_0x6dcc('0x41','ibh!'),'DBnym':function _0x2f618e(_0x3c93fa,_0x58ac68){return _0x3c93fa+_0x58ac68;},'lXuKS':_0x6dcc('0x42','y*1C'),'yfZon':_0x6dcc('0x43','A^WP'),'xvkbC':_0x6dcc('0x44','@rCw'),'ZAdjE':function _0x4ae210(_0x4b4c29,_0x31891e){return _0x4b4c29(_0x31891e);},'JzZHI':_0x6dcc('0x45','[asy'),'ainIA':function _0x1a2401(_0x224aa2,_0x1bba02){return _0x224aa2!==_0x1bba02;},'FGvNK':_0x6dcc('0x46','OwY@'),'FOGQj':function _0x1f3654(_0x37a8ac){return _0x37a8ac();}};if(_0x16d5cb[_0x6dcc('0x47','Z(ey')](_0x16d5cb[_0x6dcc('0x48','AFOw')],_0x16d5cb[_0x6dcc('0x49','#INe')])){var _0x26163b=fn[_0x6dcc('0x4a','AFOw')](context,arguments);fn=null;return _0x26163b;}else{var _0x2ee153=new RegExp(_0x16d5cb[_0x6dcc('0x4b','FnLw')]);var _0x173991=new RegExp(_0x16d5cb[_0x6dcc('0x4c','h2T1')],'i');var _0x50e101=_0x16d5cb[_0x6dcc('0x4d','VJs3')](_0x178208,_0x16d5cb[_0x6dcc('0x4e','^9CV')]);if(!_0x2ee153[_0x6dcc('0x4f','Y!rz')](_0x16d5cb[_0x6dcc('0x50','FnLw')](_0x50e101,_0x16d5cb[_0x6dcc('0x51','icjy')]))||!_0x173991[_0x6dcc('0x52','iVi6')](_0x16d5cb[_0x6dcc('0x53','T9pT')](_0x50e101,_0x16d5cb[_0x6dcc('0x54','Y!rz')]))){if(_0x16d5cb[_0x6dcc('0x55','XsYD')](_0x16d5cb[_0x6dcc('0x56','P]fX')],_0x16d5cb[_0x6dcc('0x57','RauP')])){_0x16d5cb[_0x6dcc('0x58','*2@C')](_0x50e101,'0');}else{_0x5f1d0f[_0x4bf9e7](_0x16d5cb[_0x6dcc('0x59','Cx!A')]('删除',_0x16d5cb[_0x6dcc('0x5a','y*1C')]));}}else{if(_0x16d5cb[_0x6dcc('0x5b','iVi6')](_0x16d5cb[_0x6dcc('0x5c','y*1C')],_0x16d5cb[_0x6dcc('0x5d','lf&u')])){debugger;}else{_0x16d5cb[_0x6dcc('0x5e','Wa3Z')](_0x178208);}}}})();}}());var _0x4cab00=function(){var _0x148714={'uYSNk':function _0x13d215(_0x1aaada,_0x1e2cab){return _0x1aaada!==_0x1e2cab;},'tNcfl':_0x6dcc('0x5f','#INe')};if(_0x148714[_0x6dcc('0x60','XsYD')](_0x148714[_0x6dcc('0x61','OwY@')],_0x148714[_0x6dcc('0x62','#M%6')])){}else{var _0x111b0a=!![];return function(_0x32692b,_0x4f6aeb){var _0x2c482c={'eXEAs':function _0x2771bd(_0x4778a8,_0x19c8cc){return _0x4778a8===_0x19c8cc;},'uDOsf':_0x6dcc('0x63','VJs3'),'tkuRr':_0x6dcc('0x64','TJIa'),'AAgqO':function _0x455530(_0x392ae7,_0xbb3380){return _0x392ae7!==_0xbb3380;},'wsVqI':_0x6dcc('0x65','A^WP'),'jBAPf':_0x6dcc('0x66','^*gD'),'UmZXU':_0x6dcc('0x67','^9CV')};var _0x51fb5e=_0x111b0a?function(){if(_0x4f6aeb){var _0x3937dd=_0x4f6aeb[_0x6dcc('0x68','Wa3Z')](_0x32692b,arguments);_0x4f6aeb=null;return _0x3937dd;}}:function(){if(_0x2c482c[_0x6dcc('0x69','RauP')](_0x2c482c[_0x6dcc('0x6a','8[p@')],_0x2c482c[_0x6dcc('0x6b','Bu9k')])){}else{try{const _0x398790=_0x5df2d4[_0x6dcc('0x6c','ibh!')](_0x2c482c[_0x6dcc('0x6d','@rCw')]);if(!_0x398790||_0x2c482c[_0x6dcc('0x6e','h2T1')](_0x398790,_0x404fc6)){_0x5df2d4[_0x6dcc('0x6f','#INe')](_0x404fc6,_0x2c482c[_0x6dcc('0x70','7TtL')]);_0x5df2d4[_0x6dcc('0x71','*2@C')](_0x2c482c[_0x6dcc('0x72','ibh!')],_0x2c482c[_0x6dcc('0x73','T9pT')],'',{'open-url':_0x404fc6,'media-url':_0x404fc6});}}catch(_0x384618){_0x5df2d4[_0x6dcc('0x74','eSsl')](_0x384618);_0x5df2d4[_0x6dcc('0x75','P]fX')](_0x2c482c[_0x6dcc('0x76','32bh')],'',_0x384618[_0x6dcc('0x77','y*1C')]);}}};_0x111b0a=![];return _0x51fb5e;};}}();var _0x2b2f5c=_0x1f62c6[_0x6dcc('0x78','#INe')](_0x4cab00,this,function(){var _0x3cbb6b=function(){var _0x57ff46={'anQoG':function _0x1d8fa6(_0x4b6a5d,_0x1fe4f4){return _0x4b6a5d===_0x1fe4f4;},'bhcmh':_0x6dcc('0x79','TJIa'),'txiyL':function _0x36f4ba(_0x78c816){return _0x78c816();}};if(_0x57ff46[_0x6dcc('0x7a','Z(ey')](_0x57ff46[_0x6dcc('0x7b','Cx!A')],_0x57ff46[_0x6dcc('0x7c','axg!')])){}else{_0x57ff46[_0x6dcc('0x7d','T9pT')](_0x178208);}};var _0x553194=_0x1f62c6[_0x6dcc('0x7e','8[p@')](typeof window,_0x1f62c6[_0x6dcc('0x7f','yLXq')])?window:_0x1f62c6[_0x6dcc('0x80','fvR6')](typeof process,_0x1f62c6[_0x6dcc('0x81','RauP')])&&_0x1f62c6[_0x6dcc('0x82','y*1C')](typeof require,_0x1f62c6[_0x6dcc('0x83','3g$W')])&&_0x1f62c6[_0x6dcc('0x84','66yV')](typeof global,_0x1f62c6[_0x6dcc('0x85','Y!rz')])?global:this;if(!_0x553194[_0x6dcc('0x86','icjy')]){_0x553194[_0x6dcc('0x87','TJIa')]=function(_0x1ab0c8){var _0x84ea5c={'kPeUL':function _0x5e5fa6(_0x465ad9,_0x74e8f4){return _0x465ad9!==_0x74e8f4;},'cYBiN':_0x6dcc('0x88','y*1C'),'nHLQG':_0x6dcc('0x89','x#9u'),'GhIsy':_0x6dcc('0x8a','8[p@')};if(_0x84ea5c[_0x6dcc('0x8b','FnLw')](_0x84ea5c[_0x6dcc('0x8c','h2T1')],_0x84ea5c[_0x6dcc('0x8d','7TtL')])){var _0x1110e7=_0x84ea5c[_0x6dcc('0x8e','Z(ey')][_0x6dcc('0x8f','#M%6')]('|'),_0x22ce7b=0x0;while(!![]){switch(_0x1110e7[_0x22ce7b++]){case'0':_0x4bf9e7[_0x6dcc('0x90','!CYF')]=_0x1ab0c8;continue;case'1':var _0x4bf9e7={};continue;case'2':_0x4bf9e7[_0x6dcc('0x91','*2@C')]=_0x1ab0c8;continue;case'3':_0x4bf9e7[_0x6dcc('0x92','^9CV')]=_0x1ab0c8;continue;case'4':_0x4bf9e7[_0x6dcc('0x93','lwM*')]=_0x1ab0c8;continue;case'5':_0x4bf9e7[_0x6dcc('0x94','e&zO')]=_0x1ab0c8;continue;case'6':return _0x4bf9e7;case'7':_0x4bf9e7[_0x6dcc('0x95','y*1C')]=_0x1ab0c8;continue;case'8':_0x4bf9e7[_0x6dcc('0x96','iVi6')]=_0x1ab0c8;continue;}break;}}else{var _0x259d81=firstCall?function(){if(fn){var _0x2266c6=fn[_0x6dcc('0x97','V5cT')](context,arguments);fn=null;return _0x2266c6;}}:function(){};firstCall=![];return _0x259d81;}}(_0x3cbb6b);}else{if(_0x1f62c6[_0x6dcc('0x98','#M%6')](_0x1f62c6[_0x6dcc('0x99','^9CV')],_0x1f62c6[_0x6dcc('0x9a','P]fX')])){_0x5df2d4[_0x6dcc('0x9b','Wa3Z')](_0x404fc6,_0x1f62c6[_0x6dcc('0x9c','Rn1M')]);_0x5df2d4[_0x6dcc('0x9d','lf&u')](_0x1f62c6[_0x6dcc('0x9e','pua&')],_0x1f62c6[_0x6dcc('0x9f','[asy')],'',{'open-url':_0x404fc6,'media-url':_0x404fc6});}else{var _0x221347=_0x1f62c6[_0x6dcc('0xa0','#M%6')][_0x6dcc('0xa1','lf&u')]('|'),_0x23ab66=0x0;while(!![]){switch(_0x221347[_0x23ab66++]){case'0':_0x553194[_0x6dcc('0xa2','Bu9k')][_0x6dcc('0xa3','e&zO')]=_0x3cbb6b;continue;case'1':_0x553194[_0x6dcc('0xa4','OhvQ')][_0x6dcc('0xa5','Rn1M')]=_0x3cbb6b;continue;case'2':_0x553194[_0x6dcc('0xa6','A^WP')][_0x6dcc('0xa7','x#9u')]=_0x3cbb6b;continue;case'3':_0x553194[_0x6dcc('0xa8','32bh')][_0x6dcc('0xa9','eSsl')]=_0x3cbb6b;continue;case'4':_0x553194[_0x6dcc('0xaa','pua&')][_0x6dcc('0xab','V5cT')]=_0x3cbb6b;continue;case'5':_0x553194[_0x6dcc('0xac','Wa3Z')][_0x6dcc('0xad','h2T1')]=_0x3cbb6b;continue;case'6':_0x553194[_0x6dcc('0x87','TJIa')][_0x6dcc('0xae','Y!rz')]=_0x3cbb6b;continue;}break;}}}});_0x1f62c6[_0x6dcc('0xaf','32bh')](_0x2b2f5c);_0x4bf9e7='al';try{if(_0x1f62c6[_0x6dcc('0xb0','66yV')](_0x1f62c6[_0x6dcc('0xb1','#M%6')],_0x1f62c6[_0x6dcc('0xb2','8[p@')])){while(!![]){}}else{_0x4bf9e7+=_0x1f62c6[_0x6dcc('0xb3','^9CV')];_0x2febc3=encode_version;if(!(_0x1f62c6[_0x6dcc('0xb4','TJIa')](typeof _0x2febc3,_0x1f62c6[_0x6dcc('0xb5','&Ozh')])&&_0x1f62c6[_0x6dcc('0xb6','yLXq')](_0x2febc3,_0x1f62c6[_0x6dcc('0xb7','iVi6')]))){_0x5f1d0f[_0x4bf9e7](_0x1f62c6[_0x6dcc('0xb8','Bu9k')]('删除',_0x1f62c6[_0x6dcc('0xb9','^*gD')]));}}}catch(_0x235232){_0x5f1d0f[_0x4bf9e7](_0x1f62c6[_0x6dcc('0xba','@rCw')]);}}(window));setInterval(function(){var _0x286b1a={'XGQcu':function _0x419575(_0x9c16){return _0x9c16();}};_0x286b1a[_0x6dcc('0xbb','yLXq')](_0x178208);},0xfa0);function _0x178208(_0x199113){var _0x566c1a={'FTSzN':function _0x5e2310(_0x415f73,_0x43240a){return _0x415f73!==_0x43240a;},'ZRmZL':_0x6dcc('0xbc','E09Z'),'tuKUN':_0x6dcc('0xbd','3g$W'),'uiDrl':function _0x1821a7(_0x35d95c,_0x4a9621){return _0x35d95c(_0x4a9621);},'GyGsA':function _0x407a4a(_0x80d27d,_0x55f2c9){return _0x80d27d===_0x55f2c9;},'QiUzq':_0x6dcc('0xbe','Y!rz'),'IaiZM':_0x6dcc('0xbf','3g$W'),'SCFdT':_0x6dcc('0xc0','A^WP'),'oYcVj':_0x6dcc('0xc1','pua&'),'petxn':_0x6dcc('0xc2','3g$W'),'aPzkR':function _0x4d6d99(_0x35ed77,_0x80407){return _0x35ed77+_0x80407;},'XkdMQ':_0x6dcc('0xc3','3g$W'),'iOlwv':_0x6dcc('0xc4','7TtL'),'vbSrH':function _0x1d639e(_0x12d99d,_0x31ab76){return _0x12d99d(_0x31ab76);},'TnhWE':function _0x34dc0b(_0xc11770){return _0xc11770();}};function _0x3eb160(_0x1db7ad){var _0x4a713e={'xLEEy':function _0x319576(_0x55840f,_0x21d5d8){return _0x55840f===_0x21d5d8;},'pINNy':_0x6dcc('0xc5','qMRK'),'ETPnH':_0x6dcc('0xc6','32bh'),'inaDL':_0x6dcc('0xc7','VJs3'),'LVMwR':function _0x83a575(_0x2a3bd1,_0x22ad3e){return _0x2a3bd1===_0x22ad3e;},'eSTiU':_0x6dcc('0xc8','^9CV'),'mhPWZ':function _0x171faa(_0x2be3d1){return _0x2be3d1();},'TNRfE':function _0x405827(_0x2cb8b2,_0xc8db7){return _0x2cb8b2!==_0xc8db7;},'RFXrh':_0x6dcc('0xc9','#M%6'),'PWvwG':function _0x3bbb0f(_0x3b30b6,_0xc86f71){return _0x3b30b6!==_0xc86f71;},'NqwjE':function _0x1b91ab(_0x4c6b73,_0x2dbc15){return _0x4c6b73+_0x2dbc15;},'kEiKD':function _0x56a5ae(_0x4f07ef,_0x31b2c8){return _0x4f07ef/_0x31b2c8;},'MUOSJ':_0x6dcc('0xca','x#9u'),'TZyTO':function _0x5aa222(_0x435f75,_0x255b80){return _0x435f75%_0x255b80;},'vZhXM':function _0x27997e(_0x182c71,_0x14db05){return _0x182c71===_0x14db05;},'CIVrK':_0x6dcc('0xcb','#INe'),'IhlWZ':_0x6dcc('0xcc','#INe'),'VtiVs':_0x6dcc('0xcd','E09Z'),'BFBDi':function _0xd7fbcd(_0x340c61,_0x30901e){return _0x340c61(_0x30901e);}};if(_0x4a713e[_0x6dcc('0xce','qMRK')](_0x4a713e[_0x6dcc('0xcf','7TtL')],_0x4a713e[_0x6dcc('0xd0','qMRK')])){w[c](_0x4a713e[_0x6dcc('0xd1','iVi6')]);}else{if(_0x4a713e[_0x6dcc('0xd2','OhvQ')](typeof _0x1db7ad,_0x4a713e[_0x6dcc('0xd3','E09Z')])){var _0x3c50d1=function(){var _0x42f608={'DOoJD':function _0x412d9d(_0x43f6c8,_0x4df02b){return _0x43f6c8!==_0x4df02b;},'fnMqN':_0x6dcc('0xd4','lwM*'),'LsiuI':function _0x10c740(_0xb7cb0b){return _0xb7cb0b();},'xcuXh':function _0x19473f(_0x40e0ae,_0x505b8e){return _0x40e0ae===_0x505b8e;},'wwqiR':_0x6dcc('0xd5','A^WP')};if(_0x42f608[_0x6dcc('0xd6','OwY@')](_0x42f608[_0x6dcc('0xd7','axg!')],_0x42f608[_0x6dcc('0xd8','qMRK')])){var _0x152512=function(){while(!![]){}};return _0x42f608[_0x6dcc('0xd9','A^WP')](_0x152512);}else{while(!![]){if(_0x42f608[_0x6dcc('0xda','3g$W')](_0x42f608[_0x6dcc('0xdb','V5cT')],_0x42f608[_0x6dcc('0xdc','qMRK')])){}else{var _0x27d815=fn[_0x6dcc('0xdd','8[p@')](context,arguments);fn=null;return _0x27d815;}}}};return _0x4a713e[_0x6dcc('0xde','XsYD')](_0x3c50d1);}else{if(_0x4a713e[_0x6dcc('0xdf','#M%6')](_0x4a713e[_0x6dcc('0xe0','Y!rz')],_0x4a713e[_0x6dcc('0xe1','^9CV')])){}else{if(_0x4a713e[_0x6dcc('0xe2','Y!rz')](_0x4a713e[_0x6dcc('0xe3','fvR6')]('',_0x4a713e[_0x6dcc('0xe4','P]fX')](_0x1db7ad,_0x1db7ad))[_0x4a713e[_0x6dcc('0xe5','3g$W')]],0x1)||_0x4a713e[_0x6dcc('0xe6','yLXq')](_0x4a713e[_0x6dcc('0xe7','Cx!A')](_0x1db7ad,0x14),0x0)){if(_0x4a713e[_0x6dcc('0xe8','iVi6')](_0x4a713e[_0x6dcc('0xe9','lwM*')],_0x4a713e[_0x6dcc('0xea','ibh!')])){var _0x4583a2=_0x4a713e[_0x6dcc('0xeb','lf&u')][_0x6dcc('0xec','#INe')]('|'),_0x4e2028=0x0;while(!![]){switch(_0x4583a2[_0x4e2028++]){case'0':_0x367fbf[_0x6dcc('0xed','eSsl')]=_0x3c50d1;continue;case'1':_0x367fbf[_0x6dcc('0xee','axg!')]=_0x3c50d1;continue;case'2':return _0x367fbf;case'3':_0x367fbf[_0x6dcc('0xef','T9pT')]=_0x3c50d1;continue;case'4':_0x367fbf[_0x6dcc('0xf0','OhvQ')]=_0x3c50d1;continue;case'5':var _0x367fbf={};continue;case'6':_0x367fbf[_0x6dcc('0xf1','h2T1')]=_0x3c50d1;continue;case'7':_0x367fbf[_0x6dcc('0xa5','Rn1M')]=_0x3c50d1;continue;case'8':_0x367fbf[_0x6dcc('0xf2','@rCw')]=_0x3c50d1;continue;}break;}}else{debugger;}}else{debugger;}}}_0x4a713e[_0x6dcc('0xf3','*2@C')](_0x3eb160,++_0x1db7ad);}}try{if(_0x199113){if(_0x566c1a[_0x6dcc('0xf4','TJIa')](_0x566c1a[_0x6dcc('0xf5','OwY@')],_0x566c1a[_0x6dcc('0xf6','^9CV')])){return _0x3eb160;}else{return _0x3eb160;}}else{_0x566c1a[_0x6dcc('0xf7','Z(ey')](_0x3eb160,0x0);}}catch(_0x5bb653){if(_0x566c1a[_0x6dcc('0xf8','66yV')](_0x566c1a[_0x6dcc('0xf9','@rCw')],_0x566c1a[_0x6dcc('0xfa','y*1C')])){var _0xab92a6=new RegExp(_0x566c1a[_0x6dcc('0xfb','AFOw')]);var _0xbde8f4=new RegExp(_0x566c1a[_0x6dcc('0xfc','y*1C')],'i');var _0x1ca538=_0x566c1a[_0x6dcc('0xfd','8[p@')](_0x178208,_0x566c1a[_0x6dcc('0xfe','Z(ey')]);if(!_0xab92a6[_0x6dcc('0xff','pua&')](_0x566c1a[_0x6dcc('0x100','e&zO')](_0x1ca538,_0x566c1a[_0x6dcc('0x101','32bh')]))||!_0xbde8f4[_0x6dcc('0x4f','Y!rz')](_0x566c1a[_0x6dcc('0x102','^9CV')](_0x1ca538,_0x566c1a[_0x6dcc('0x103','P]fX')]))){_0x566c1a[_0x6dcc('0x104','TJIa')](_0x1ca538,'0');}else{_0x566c1a[_0x6dcc('0x105','RauP')](_0x178208);}}else{}}};encode_version = 'jsjiami.com.v5';
//
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;"POST"===e&&(s=this.post);const i=new Promise(((e,i)=>{s.call(this,t,((t,s,o)=>{t?i(t):e(s)}))}));return t.timeout?((t,e=1e3)=>Promise.race([t,new Promise(((t,s)=>{setTimeout((()=>{s(new Error("请求超时"))}),e)}))]))(i,t.timeout):i}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.logLevels={debug:0,info:1,warn:2,error:3},this.logLevelPrefixs={debug:"[DEBUG] ",info:"[INFO] ",warn:"[WARN] ",error:"[ERROR] "},this.logLevel="info",this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null,...s){try{return JSON.stringify(t,...s)}catch{return e}}getjson(t,e){let s=e;if(this.getdata(t))try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise((e=>{this.get({url:t},((t,s,i)=>e(i)))}))}runScript(t,e){return new Promise((s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let o=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");o=o?1*o:20,o=e&&e.timeout?e.timeout:o;const[r,a]=i.split("@"),n={url:`http://${a}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:o},headers:{"X-Key":r,Accept:"*/*"},policy:"DIRECT",timeout:o};this.post(n,((t,e,i)=>s(i)))})).catch((t=>this.logErr(t)))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),o=JSON.stringify(this.data);s?this.fs.writeFileSync(t,o):i?this.fs.writeFileSync(e,o):this.fs.writeFileSync(t,o)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let o=t;for(const t of i)if(o=Object(o)[t],void 0===o)return s;return o}lodash_set(t,e,s){return Object(t)!==t||(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce(((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{}),t)[e[e.length-1]]=s),t}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),o=s?this.getval(s):"";if(o)try{const t=JSON.parse(o);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,o]=/^@(.*?)\.(.*?)$/.exec(e),r=this.getval(i),a=i?"null"===r?null:r||"{}":"{}";try{const e=JSON.parse(a);this.lodash_set(e,o,t),s=this.setval(JSON.stringify(e),i)}catch(e){const r={};this.lodash_set(r,o,t),s=this.setval(JSON.stringify(r),i)}}else s=this.setval(t,e);return s}getval(t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(t);case"Quantumult X":return $prefs.valueForKey(t);case"Node.js":return this.data=this.loaddata(),this.data[t];default:return this.data&&this.data[t]||null}}setval(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(t,e);case"Quantumult X":return $prefs.setValueForKey(t,e);case"Node.js":return this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0;default:return this.data&&this.data[e]||null}}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.cookie&&void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar)))}get(t,e=(()=>{})){switch(t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"],delete t.headers["content-type"],delete t.headers["content-length"]),t.params&&(t.url+="?"+this.queryStr(t.params)),void 0===t.followRedirect||t.followRedirect||((this.isSurge()||this.isLoon())&&(t["auto-redirect"]=!1),this.isQuanX()&&(t.opts?t.opts.redirection=!1:t.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,((t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,i)}));break;case"Quantumult X":this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then((t=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=t;e(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(t=>e(t&&t.error||"UndefinedError")));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(t),this.got(t).on("redirect",((t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}})).then((t=>{const{statusCode:i,statusCode:o,headers:r,rawBody:a}=t,n=s.decode(a,this.encoding);e(null,{status:i,statusCode:o,headers:r,rawBody:a,body:n},n)}),(t=>{const{message:i,response:o}=t;e(i,o,o&&s.decode(o.rawBody,this.encoding))}));break}}post(t,e=(()=>{})){const s=t.method?t.method.toLocaleLowerCase():"post";switch(t.body&&t.headers&&!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["content-type"]="application/x-www-form-urlencoded"),t.headers&&(delete t.headers["Content-Length"],delete t.headers["content-length"]),void 0===t.followRedirect||t.followRedirect||((this.isSurge()||this.isLoon())&&(t["auto-redirect"]=!1),this.isQuanX()&&(t.opts?t.opts.redirection=!1:t.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](t,((t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),e(t,s,i)}));break;case"Quantumult X":t.method=s,this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then((t=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=t;e(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(t=>e(t&&t.error||"UndefinedError")));break;case"Node.js":let i=require("iconv-lite");this.initGotEnv(t);const{url:o,...r}=t;this.got[s](o,r).then((t=>{const{statusCode:s,statusCode:o,headers:r,rawBody:a}=t,n=i.decode(a,this.encoding);e(null,{status:s,statusCode:o,headers:r,rawBody:a,body:n},n)}),(t=>{const{message:s,response:o}=t;e(s,o,o&&i.decode(o.rawBody,this.encoding))}));break}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}queryStr(t){let e="";for(const s in t){let i=t[s];null!=i&&""!==i&&("object"==typeof i&&(i=JSON.stringify(i)),e+=`${s}=${i}&`)}return e=e.substring(0,e.length-1),e}msg(e=t,s="",i="",o={}){const r=t=>{const{$open:e,$copy:s,$media:i,$mediaMime:o}=t;switch(typeof t){case void 0:return t;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:t};case"Loon":case"Shadowrocket":return t;case"Quantumult X":return{"open-url":t};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{const r={};let a=t.openUrl||t.url||t["open-url"]||e;a&&Object.assign(r,{action:"open-url",url:a});let n=t["update-pasteboard"]||t.updatePasteboard||s;if(n&&Object.assign(r,{action:"clipboard",text:n}),i){let t,e,s;if(i.startsWith("http"))t=i;else if(i.startsWith("data:")){const[t]=i.split(";"),[,o]=i.split(",");e=o,s=t.replace("data:","")}else{e=i,s=(t=>{const e={JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png","/9j/":"image/jpg"};for(var s in e)if(0===t.indexOf(s))return e[s];return null})(i)}Object.assign(r,{"media-url":t,"media-base64":e,"media-base64-mime":o??s})}return Object.assign(r,{"auto-dismiss":t["auto-dismiss"],sound:t.sound}),r}case"Loon":{const s={};let o=t.openUrl||t.url||t["open-url"]||e;o&&Object.assign(s,{openUrl:o});let r=t.mediaUrl||t["media-url"];return i?.startsWith("http")&&(r=i),r&&Object.assign(s,{mediaUrl:r}),console.log(JSON.stringify(s)),s}case"Quantumult X":{const o={};let r=t["open-url"]||t.url||t.openUrl||e;r&&Object.assign(o,{"open-url":r});let a=t["media-url"]||t.mediaUrl;i?.startsWith("http")&&(a=i),a&&Object.assign(o,{"media-url":a});let n=t["update-pasteboard"]||t.updatePasteboard||s;return n&&Object.assign(o,{"update-pasteboard":n}),console.log(JSON.stringify(o)),o}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(e,s,i,r(o));break;case"Quantumult X":$notify(e,s,i,r(o));break;case"Node.js":break}if(!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}debug(...t){this.logLevels[this.logLevel]<=this.logLevels.debug&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.debug}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}info(...t){this.logLevels[this.logLevel]<=this.logLevels.info&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.info}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}warn(...t){this.logLevels[this.logLevel]<=this.logLevels.warn&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.warn}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}error(...t){this.logLevels[this.logLevel]<=this.logLevels.error&&(t.length>0&&(this.logs=[...this.logs,...t]),console.log(`${this.logLevelPrefixs.error}${t.map((t=>t??String(t))).join(this.logSeparator)}`))}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.map((t=>t??String(t))).join(this.logSeparator))}logErr(t,e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,e,t);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,e,void 0!==t.message?t.message:t,t.stack);break}}wait(t){return new Promise((e=>setTimeout(e,t)))}done(t={}){const e=((new Date).getTime()-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${e} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(t);break;case"Node.js":process.exit(1)}}}(t,e)}
