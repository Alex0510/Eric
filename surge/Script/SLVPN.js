var iｉl='jsjiami.cn.v7';const l1iIII=I1iIlI;(function(i11iil,Ill1i,ii1iil,lllI1l,i11iii,llI1Ii,lllI1i){return i11iil=i11iil>>0x9,llI1Ii='hs',lllI1i='hs',function(li1i1l,II1i1,lI1lll,iIiII,iil1lI){const lllI1I=I1iIlI;iIiII='tfi',llI1Ii=iIiII+llI1Ii,iil1lI='up',lllI1i+=iil1lI,llI1Ii=lI1lll(llI1Ii),lllI1i=lI1lll(lllI1i),lI1lll=0x0;const iiiliI=li1i1l();while(!![]&&--lllI1l+II1i1){try{iIiII=parseInt(lllI1I(0x199,'mVml'))/0x1+-parseInt(lllI1I(0x1fa,'zS)a'))/0x2+-parseInt(lllI1I(0x1d8,'gJB&'))/0x3+-parseInt(lllI1I(0x12f,'A!aU'))/0x4*(parseInt(lllI1I(0x114,'hDiq'))/0x5)+parseInt(lllI1I(0x1e3,'!svo'))/0x6*(-parseInt(lllI1I(0x1cf,'Am!V'))/0x7)+parseInt(lllI1I(0x168,'M*NV'))/0x8*(-parseInt(lllI1I(0x1f1,'C4GU'))/0x9)+parseInt(lllI1I(0x1b7,'0eSd'))/0xa;}catch(li1i1I){iIiII=lI1lll;}finally{iil1lI=iiiliI[llI1Ii]();if(i11iil<=lllI1l)lI1lll?i11iii?iIiII=iil1lI:i11iii=iil1lI:lI1lll=iil1lI;else{if(lI1lll==i11iii['replace'](/[hebuNwOYBkgPHVfyLdo=]/g,'')){if(iIiII===II1i1){iiiliI['un'+llI1Ii](iil1lI);break;}iiiliI[lllI1i](iil1lI);}}}}}(ii1iil,Ill1i,function(illIii,ii1il1,lI1llI,illIil,Ill1I,i11iiI,lIli11){return ii1il1='\x73\x70\x6c\x69\x74',illIii=arguments[0x0],illIii=illIii[ii1il1](''),lI1llI=`\x72\x65\x76\x65\x72\x73\x65`,illIii=illIii[lI1llI]('\x76'),illIil=`\x6a\x6f\x69\x6e`,(0x186ae9,illIii[illIil](''));});}(0x19800,0x973dc,Iil1Ii,0xce),Iil1Ii)&&(iｉl=0xce);const llIIll=(function(){const lillI1=I1iIlI,II1lli={'uygWd':function(IiIl,IiIi){return IiIl(IiIi);},'QVJcV':function(iI1ll1,IlI1Il){return iI1ll1===IlI1Il;},'CSxyf':lillI1(0x12d,'i9hD'),'vbICD':lillI1(0x17a,'E@PL')};let ii1I1I=!![];return function(l1il1l,liIil){const liil11=lillI1,IllI1I={'GoSZn':function(II1ll1,IlI1Ii){const IlIlii=I1iIlI;return II1lli[IlIlii(0x18f,'yvq0')](II1ll1,IlI1Ii);},'pscqa':function(i11I1I,l1il1i){const i1l1i1=I1iIlI;return II1lli[i1l1i1(0x1a2,'yvq0')](i11I1I,l1il1i);},'gkifS':II1lli[liil11(0x1af,'F15c')],'vNHob':II1lli[liil11(0x1fd,'i9hD')]},liIii=ii1I1I?function(){const iiillI=liil11;if(liIil){if(IllI1I[iiillI(0x140,'#KMl')](IllI1I[iiillI(0x12e,'Yi(F')],IllI1I[iiillI(0x1a6,'0eSd')])){let iI1llI=ilI1li[iiillI(0x198,'0eSd')];iI1llI=IIliI[iiillI(0x1ba,'hDiq')](iI1llI)||iI1llI,IllI1I[iiillI(0x1a5,'lshq')](ilI1ll,iI1llI);}else{const llliii=liIil[iiillI(0x18b,'gf^L')](l1il1l,arguments);return liIil=null,llliii;}}}:function(){};return ii1I1I=![],liIii;};}()),IillIi=llIIll(this,function(){const l1l111=I1iIlI,IllI11={'HRYpW':l1l111(0x1f3,'dH^g')};return IillIi[l1l111(0x1b9,'G$n*')]()[l1l111(0x13b,'(Tsq')](IllI11[l1l111(0x17d,'Yi(F')])[l1l111(0x1c6,'TX4g')]()[l1l111(0x13f,'4%no')](IillIi)[l1l111(0x134,'KG%1')](IllI11[l1l111(0x154,'0eSd')]);});IillIi();const lii=new Env(l1iIII(0x204,'zS)a'));lii[l1iIII(0x129,'^ZIf')]=l1iIII(0x16a,'gf^L'),lii[l1iIII(0x117,'2b9o')]=!![],lii[l1iIII(0x120,'gJB&')]=lii[l1iIII(0x171,'nE2U')],lii[l1iIII(0x119,'gf^L')]=lii[l1iIII(0x1a9,'KG%1')],lii[l1iIII(0x20c,'DNvJ')]=l1iIII(0x121,'lshq');async function IllI1i(){const llI1I1=l1iIII,l1llIi={'MFZPZ':function(II1llI,i11I11){return II1llI(i11I11);},'ubkOG':llI1I1(0x1f8,'!b07')};lii[llI1I1(0x190,'Am!V')]=await l1llIi[llI1I1(0x1c7,'x3^J')](liIl1,{'url':l1llIi[llI1I1(0x167,'#N%f')]});}async function i11I1l(){const IlIlil=l1iIII,l1llIl={'EWnVB':IlIlil(0x1ce,'x3^J'),'XyFCY':IlIlil(0x1f4,'dH^g'),'RtKWV':function(llI){return llI();},'MiFgL':function(llliI,iI1li1){return llliI(iI1li1);},'Hflfv':function(lllii1,liIli){return lllii1(liIli);},'MWPed':IlIlil(0x1ec,'hDiq')},[,ii1I1l]=lii[IlIlil(0x1f6,'x3^J')][IlIlil(0x1f9,'E@PL')](l1llIl[IlIlil(0x1ed,'g7p#')]);let ii1I1i='';switch(ii1I1l){case l1llIl[IlIlil(0x179,'nE2U')]:let liIll=await l1llIl[IlIlil(0x16d,'dH^g')](IillIl),IilIi1=await l1llIl[IlIlil(0x191,'nrXb')](i11I1i,liIll);ii1I1i=await l1llIl[IlIlil(0x1d6,'gf^L')](IllI1l,IilIi1),console[IlIlil(0x165,'0eSd')](ii1I1i);break;default:lii[IlIlil(0x15b,'JOtG')](lii[IlIlil(0x188,'gJB&')],'',l1llIl[IlIlil(0x151,'E@PL')]);break;}return ii1I1i;}async function lil(){const lIli1I=l1iIII,iI1liI={'EjogH':lIli1I(0x19a,'M*NV'),'vfFtU':lIli1I(0x147,'s]m@')},[,l1lIiI]=lii[lIli1I(0x124,'mVml')][lIli1I(0x163,'w)vk')](iI1liI[lIli1I(0x146,'GlBd')]);lii[lIli1I(0x166,'G$n*')](lii[lIli1I(0x150,'Y*1H')],'',iI1liI[lIli1I(0x110,'M*NV')]);}function Iil1Ii(){const i11ii1=(function(){return[...[iｉl,'eeOjksjiNahgLmioV.Lgcfn.bvBH7YydLwuVNfP==','WPRdQSo3WR9K','WOVcKSk7W7rnqtipWRqUpr1Hcq','W77dSCox','jmkecY/cKmoJWQWO','qmonW4hdSmox','wCohW7RdUSosCW','WRWvWPuoW6W','W4NcGCo9W7ur','WQ0MySooWPG','W77dV8onWQWU','c8oKoW','W7pdSfPlWPG','W7JdGvz+WPe','s8oPWQWVWPa','W4NcVmomW4GqWRKNELVdHGpcPmom','xrupW5FdKKC8','W6DYW4rtWQ53WOtdMW','WOldV8oBWQDp','W6GrWPlcRvG','Ec43W4HG','W4pdKSoYWQa7','W5yvWOjBdH5HW4ldV8krW4zfmtBcNsS8c8ouWPxdJmkvW40NWQddUCo8WP/cHqJdOehcHa','rSo8imkltq','WPiUxmo8','W6ddImo0WPjNWPu','WR3cPsq2y8ohcfZcJCo3cmk3cW','W6m0wsxcPG','W5RdGmoQWQyk','W63dO8kdb8oL','W6xdISkYW4hdIG','aHfGW7SC','EHGCW7HD','W7pcJmkox8oj','WPRdH1lcUG','zh/dS8oWWRRcU8kqW7ioWRe6W6i','fGXiW6vb','vaqaW77dVa','W5/dK0vSia','lMZcKCkpW7XICG','WOqfsSolWPy','oCkycs7cH8o4WRS','rWmB','bKBcRmk2','W63dQSojWQG0','vdOXW4xdPW','gCoGfmkmuSoZWP4','wLhcLtzI','rSo8nSkBxmoKWPe','WQvmW6rkW58','W4mjWOZcOW','gComWR4IW7WW','qJeEiGi','DmoHWOaLWRtdMq','WPZcUrlcKmkpzsmEsSk+W4iwWOvdmtBdGmobq8k4WPznjCkskGmQCGiOvSkmWR3cQmouW5JcQsvNW6zYW53dMrJcPvFdO8oTWQ1gWP9ZWRrlo3VdM8ohWP/dSSkEtCoaDYZdQG','5Rw/6k23W7/dP8oyzuS','W7/cNSoaW60X','CeTEWRlcTSkW','W5OEW500hW','W4FdNwXAWPxcRG','WRTWWQbWAH5TCYD+fYq','W7FdPH7dQSkj','xCklW7fjWQvRWPVdQCo+W4xdTmoE','wSoqWQWf','m8kkldJcIG','WR/dMmo1WP8','WPldQK3cRqPIWR8','cuJcSCk2W4awdL80WOqZlCkYsKa3amkKW5zkW7ldQmkNWOJcTgK','W4Pzd0bh','WPXmW50hw0DcW4RcM8kHW6mn','wmohW6ddTCojFW','fGKCW5XYkNG','W53dMKT+WQu','k1mCW79DqNin','bZD0W60HWRu','W4/dR8kaW5xdQq','W7RdQwrR','WRBdVCoqW5tcJCoivWWXWPboCq','b8kxWR7cQSkllGBdGCoqW68RW7rb','W7yBWOzaebBMQl7OIjJKUBxMTQJKVRi','WPZcVZZcK8k+','kc1EW6jBfMRdPqXqia','ndlcSSkOW53dQSkbW7ab','W5hcMCknvW','W5BcNSkaWPtdGa','zftcTdPaW4JdMG','nmkkldO','WPy4x8oT','dCkuWR7cOmkej3/dHmoJW58AW54','WO7cLmk8W7Hjr3jNWR4NcWK','W7avt3y','cCofgmoYWPy','W6TEcSkOBYK','WQ3cPWLAW6NdNaddTSktW5OXWRq','W7GWW6eK','Bmo9WP4N','W5pcImkcWOBdKW','W4q5WRlcLMi','iaRcRmkuW6a','lY9LW5ub','gMhdNa','uGmlW4T6kG','WRLjW45xW70','E0hcOZTW','W6WjWQDyba','WQddMrxcRCom','A1LGWRFcVSk4','bSkrWRNcOmklj0RdJ8okW6abW5u','CL1RWQpdVmk0w8oaWRTU','W5ZdMchdICkv','imkqy8kryCoRW4jcDmoIW5rxWRa','W4WVWONcOua','W5pcNSkpvq','oCkcsSkr','W6/dTuOa','W6JdS8kvaq','rXqxcJq','WQFdLbVcSmom','W7ldKGpdMmkX','pZtcQCkU','W5SeDYq','WPWqWPiIW4W','FZepjG','d8oeWQFcNG','W4bqW79TWPS','D8o9jmkECa','gCogWRCaW7OQ','W5TmW55dWPG','WR/dNqpcRq','xmowW7RdOG','rIeYoI8','W6JdN8kSW4RdHWq','W4NdGMHzWRK','W7ZdII3dM8kw','WPfqWOhcPgrGW5VcPW'],...(function(){return['W4SjWOVcTN9DW5lcINz7sG','W6FdO1T+iCkxu1tcHW','Bv19WQC','W794W7LaWQH2','WR9AW4riW5vx','W63dQCoIWPmP','W4G0wHxcTG','BIaliJWhW4JdTSoRCJ8xAYKCWOO','j8o7kmopWQ5GW6xdMSkaWPDBjCotW4JdGqf+WRhdPSkbldG+WOJdGHCfW6RcPCkmWRq9WR1LWPpcSdeHW6pcUfBdUmoFWQHQz8oADCkxiCkpWOu8W73dQCkPW4ZcTKKcoSktjxzCW4GRDCocW44RWOxcSSokW4azdmkDndXaW7qYWQf3WQWkCLNdPCorzCkZgdKpWOhcRmoyWOZcKmoiBSkji23cLSovqaJdKmkuW41gzCokst/dN3Sam8oLxW3dNSkMtLukWRzQo04','WOxcTXlcQ8kT','W5/dGxjy','W6ZdSv8AWRZcHa','W543o1vLFrenCCotW4vX','WR53yWKi','htriW6uY','pY18W75yaw3dHrLmnW','qd3cLvy9','uWVdTmo/WOqDe0abWOa0pCkhtW','WQzGzqy0','WP/dOZNcVCoQ','AtacW5xdMa','A8o0WOiRWRq','WQ/dJeNcTCk+','5RwW6k6PamogW5C','W6pcGmkXxCoP','isJcICkIW6G','W47cRmowW49CWQm6DvlcTrFcPSoqvebhh3bGW7/dGcjGWO/dN8kzcX5kW4vCW5vZpZNcO8k+W5ZdT8krp2apWPNcTK5UWOhcTcWBW68hW7L8WO7dUMX3B8obW6pcMW','W6ddLCkHW5JdNGNcJCk2','WOdcPGJcMSkK','mmohWPWSW6C','WRzxWOH5W7GtFSk+W4ZcMIvJncXQpuCWaG','WR3dUmonWRj5','WPRcRaVcHq','W7r+m0Xx','W6WqWQfIbq','W7pdJJFdIq','W7hdT8otWR0T','x8ooW4/dO8o0','oclcSSkOW63dQG','W6xdTSozWOiy','WPJdLwpcNcy','WPirW5imyW','vKNcL8oj','aZDd','W5/cGmkoFSoO','W4NdSGddJ8kc','W5BcRmoaW5WhWQm','yGlcSh8/','hSovWQpcMSk8','eeBcSCknW6i','W77dUCkcda','uXydW5DT','FflcGd1mW5/dKa','W5xdISoT','pCkypW','ECoskmkdjG','nr/cPdHmW5tdRd4','reJcJIXm','W4JcHSomxmonW4XRWRLRWPpdTq','WRZdGx0','CaOPW6TC','j8oxWPiWW5G','DtO0W5tdRG','W5vief16W6H7W57cSCkWW6q','rcBcK0K','W6xdOSowWQe','gCoKpSopWRy','WOSvWQKjW48/bW','W6/cQ8kpWOa','gCojWRZcMCk3','W4NcQCkfumoL','pdtcGCkLW7y','bSopWRaeW6S','W5pdUSo9WOCM','W6TQmwja','W4OKDa7cHW','WOddHadcOmoP','W5pdSX3dJCks','W6RcKSkjWRhdTG','aqldJmkkeu0vWP51WOegWQVdQ2/dR8kiWR/cPCoAW65WWOlcJKRcLuG/rSoyWROTW7ZcQK3cJtC','WQrqW5zo','W5ZdUWpdNmkr','W7WoWPCjWOikmSoHW5NdQWvpbfnErJbwCMWlW6JcRJO1WRNcItVdR8oWnCovvSkjhgW','WOtdGXFcNSol','qYhcMuKWegVcH1/dIqRdQ8o4a8oai8khc8kkagFcKhLBWPtcOfJdVKJcUa/dQSkI','vWOVW7WBhXnplYzxBSoln1xdVuS6','E8o3cCk7kG','W5r8lCkSDq','oYBcQ8kL','WPm7w8odWQu','WOvoW6XoW4W','W5RcMSksvCog','WQzMW7jGW6i','WPldLWBcI8oF','W5tdGmo+WQuvfa','WO7dVu7cNXy','W6BdPhLI','WPmAW54EFG','W6VcPCkXBq','yaqYW6zyrvmrixzDiSkunb7dPHCJW4XzEKn6WRykhmkim8kAW7bCW5JdIq','W4ZdGMTnW43dPIKxsCkyW5z2WQORkmo0mG','W5lcVCoAW4SaW7fHn03dTHNcUmomuuDpuhXNWR3cG3PPWPxcMmoecaygW5KEWOf8yMtcPSk4WO/dT8ospYaaW4BcPWX0WOVdQNjEWRjkWRO7WO7cPtLNj8kfWQxdJcNdO8k/bfHEWQXcAqPs','W406W5KUfG','WPeTrSoRWPe','W5VdISoUWRq','smkuW6xdG8o2WOJcJ8kjsmoXudq','iKBcLsy','W7qLWPdcIhe','ACo+WPOjWPe','W73cNvO','CCo3WR4TWRpdHq','ANPRW6T+ihxdRG','pCo0WOhcLmkj','yYGLW5tdHW','WQRdKMpcQYq','xvL8WQFdVSoMgCkCW60JBCkWW5yvW5RdP8kxea','W7RdUSkjgSoU','W6WkqXVcJa','W4/dQ8ocWQiy','zSoUW63dSCoB','hcvkW6GPWR0','WQjEW4HF','b8ocWRCdW6eV','WQBdISooWODHWOxcKI9r','WOpdIelcT8koWPhdGa','uG8GW4BdLW','W7qwrgdcRW','w8oxWPy7WQy','W5zIfufl','WPaCWQ0f','W5qyWPtcQ0i','W6BdLNTjWPi','acvsW6uHWRfrW4u','WQ1pW5vwW59CzCkIWOJcVsOIlwr0BG'];}())];}());Iil1Ii=function(){return i11ii1;};return Iil1Ii();};async function IllI1l(llliiI){const II1il=l1iIII,IilIiI={'hrZsB':function(IiI11,lli){return IiI11(lli);}},i1i1I1={'url':llliiI,'headers':{'Accept':II1il(0x14a,'g7p#'),'Sec-Fetch-Mode':II1il(0x1b4,'JOtG'),'Connection':II1il(0x115,'[wTI'),'Accept-Encoding':II1il(0x194,'i9hD'),'Host':II1il(0x193,'qify'),'User-Agent':II1il(0x138,'@jCC'),'Sec-Fetch-Site':II1il(0x174,'mU!O'),'Accept-Language':II1il(0x14e,'KG%1'),'Sec-Fetch-Dest':II1il(0x14b,'XRO(')}};let IlII1=await IilIiI[II1il(0x205,'Y*1H')](liIl1,i1i1I1);return IlII1;}async function i11I1i(liIlI){const lllI11=l1iIII,lll={'aAdOe':lllI11(0x1eb,'Y*1H'),'XpHnL':lllI11(0x185,'qify'),'Oyjon':lllI11(0x10d,'#KMl'),'nubFg':lllI11(0x15a,'xLS5'),'QxmlU':lllI11(0x1cb,'zS)a'),'IsJmf':lllI11(0x1b5,'KG%1'),'Mnyts':function(iI1lii,IilIii){return iI1lii(IilIii);}},llli1={'url':lll[lllI11(0x17b,'lshq')],'headers':{'user-agent':lll[lllI11(0x1bc,'@rjX')],'accept':lll[lllI11(0x1c8,'A!aU')],'accept-encoding':lll[lllI11(0x157,'nE2U')],'host':lll[lllI11(0x13d,'Dhjm')],'authorization':liIlI,'content-type':lll[lllI11(0x111,'zS)a')]}};let iIli1i=await lll[lllI11(0x1b3,'i9hD')](liIl1,llli1);return iIli1i[lllI11(0x20b,'G$n*')][lllI11(0x1c4,'g7p#')];}async function IillIl(){const I1lIll=l1iIII,iI1lil={'WZaqu':function(liiIIl){return liiIIl();},'RSDrG':I1lIll(0x1a3,'[wTI'),'xuOBl':I1lIll(0x137,'aDdb'),'firlK':I1lIll(0x19d,'^ZIf'),'NFUbP':I1lIll(0x1e0,'!b07'),'USvHq':I1lIll(0x184,'#KMl'),'oxaHB':function(iil1iI,IlIllI){return iil1iI(IlIllI);}};let l1lIi1=iI1lil[I1lIll(0x209,'mU!O')](llliil);const iIli1l={'url':I1lIll(0x195,'g7p#')+l1lIi1,'headers':{'user-agent':iI1lil[I1lIll(0x15d,'Yi(F')],'content-type':iI1lil[I1lIll(0x122,'@rjX')],'accept':iI1lil[I1lIll(0x1e1,'nE2U')],'accept-encoding':iI1lil[I1lIll(0x16e,'s]m@')],'host':iI1lil[I1lIll(0x1b6,'x3^J')]}};let i1i1II=await iI1lil[I1lIll(0x1da,'s]m@')](liIl1,iIli1l);return i1i1II?.[I1lIll(0x1e7,'A!aU')]?.[I1lIll(0x207,'gJB&')];}function llliil(){const I1lIli=l1iIII,il1i1I={'qztKQ':function(iIII1I,ilil1i){return iIII1I===ilil1i;},'RLFXc':function(IlIIi,IiI1l){return IlIIi-IiI1l;},'klAqI':function(illlII,iIII11){return illlII*iIII11;},'MaelW':I1lIli(0x182,'KG%1'),'XTDby':function(IiI1i,llll1){return IiI1i<llll1;},'SmBmP':function(lil11l,i1i1Il){return lil11l===i1i1Il;},'SqgGe':function(I1lIl1,lil11i){return I1lIl1!==lil11i;},'djlGW':I1lIli(0x200,'XRO('),'XjSdV':I1lIli(0x116,'Yi(F'),'kVhTC':function(IlIIl,lI1liI){return IlIIl===lI1liI;},'Iokci':I1lIli(0x135,'nE2U'),'VQwki':function(i1i1Ii,lllii){return i1i1Ii*lllii;}};let lI1li1=il1i1I[I1lIli(0x1e9,'aDdb')],iI11II='';for(let iI11Ii=0x0;il1i1I[I1lIli(0x1a1,'s]m@')](iI11Ii,0x24);iI11Ii++){if(il1i1I[I1lIli(0x139,'Y*1H')](iI11Ii,0x8)||il1i1I[I1lIli(0x189,'DNvJ')](iI11Ii,0xd)||il1i1I[I1lIli(0x161,'!b07')](iI11Ii,0x12)||il1i1I[I1lIli(0x1c3,'F15c')](iI11Ii,0x17)){if(il1i1I[I1lIli(0x183,'^ZIf')](il1i1I[I1lIli(0x15c,'gf^L')],il1i1I[I1lIli(0x148,'gf^L')]))iI11II+='-';else{var lllil=il1i1I[I1lIli(0x19c,'F15c')](IIli1l[I1lIli(0x16f,'E@PL')]('/'),il1i1I[I1lIli(0x15f,'#KMl')](II1lii[I1lIli(0x1ea,'F15c')],0x1))?-0x1:void 0x0;return lIIii1[I1lIli(0x178,'dH^g')](ll1i1[I1lIli(0x1ac,'GlBd')]('/',IIli1i[I1lIli(0x153,'Yi(F')][I1lIli(0x1fb,'hDiq')]),lllil);}}else il1i1I[I1lIli(0x17e,'mU!O')](il1i1I[I1lIli(0x142,'Dhjm')],il1i1I[I1lIli(0x169,'M*NV')])?iI11II+=lI1li1[Math[I1lIli(0x175,'mVml')](il1i1I[I1lIli(0x187,'fZuA')](Math[I1lIli(0x1a8,'JOtG')](),lI1li1[I1lIli(0x1f0,'i9hD')]))]:II11I1+=Iii11I[Iil1II[I1lIli(0x1a4,'$ofs')](il1i1I[I1lIli(0x155,'hDiq')](iIIl1I[I1lIli(0x113,'[wTI')](),I1iIli[I1lIli(0x15e,'g7p#')]))];}return iI11II;}function I1iIlI(_0x2495ae,_0x1cb89e){const _0x54ff7d=Iil1Ii();return I1iIlI=function(_0x4ff605,_0x25e43a){_0x4ff605=_0x4ff605-0x109;let _0x4cc1f9=_0x54ff7d[_0x4ff605];if(I1iIlI['AtFJzW']===undefined){var _0x23295a=function(_0x520c1a){const _0x866c97='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2ec608='',_0x2bf955='',_0x457b2a=_0x2ec608+_0x23295a;for(let _0x32080d=0x0,_0x41eb29,_0x246b00,_0x164a92=0x0;_0x246b00=_0x520c1a['charAt'](_0x164a92++);~_0x246b00&&(_0x41eb29=_0x32080d%0x4?_0x41eb29*0x40+_0x246b00:_0x246b00,_0x32080d++%0x4)?_0x2ec608+=_0x457b2a['charCodeAt'](_0x164a92+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x41eb29>>(-0x2*_0x32080d&0x6)):_0x32080d:0x0){_0x246b00=_0x866c97['indexOf'](_0x246b00);}for(let _0x194c6e=0x0,_0x4e7b8c=_0x2ec608['length'];_0x194c6e<_0x4e7b8c;_0x194c6e++){_0x2bf955+='%'+('00'+_0x2ec608['charCodeAt'](_0x194c6e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2bf955);};const _0x3082b1=function(_0x4db56c,_0x35c8dd){let _0x5198de=[],_0x31ce07=0x0,_0x174a76,_0x2badb2='';_0x4db56c=_0x23295a(_0x4db56c);let _0x13c87f;for(_0x13c87f=0x0;_0x13c87f<0x100;_0x13c87f++){_0x5198de[_0x13c87f]=_0x13c87f;}for(_0x13c87f=0x0;_0x13c87f<0x100;_0x13c87f++){_0x31ce07=(_0x31ce07+_0x5198de[_0x13c87f]+_0x35c8dd['charCodeAt'](_0x13c87f%_0x35c8dd['length']))%0x100,_0x174a76=_0x5198de[_0x13c87f],_0x5198de[_0x13c87f]=_0x5198de[_0x31ce07],_0x5198de[_0x31ce07]=_0x174a76;}_0x13c87f=0x0,_0x31ce07=0x0;for(let _0xb26e17=0x0;_0xb26e17<_0x4db56c['length'];_0xb26e17++){_0x13c87f=(_0x13c87f+0x1)%0x100,_0x31ce07=(_0x31ce07+_0x5198de[_0x13c87f])%0x100,_0x174a76=_0x5198de[_0x13c87f],_0x5198de[_0x13c87f]=_0x5198de[_0x31ce07],_0x5198de[_0x31ce07]=_0x174a76,_0x2badb2+=String['fromCharCode'](_0x4db56c['charCodeAt'](_0xb26e17)^_0x5198de[(_0x5198de[_0x13c87f]+_0x5198de[_0x31ce07])%0x100]);}return _0x2badb2;};I1iIlI['kobWEu']=_0x3082b1,_0x2495ae=arguments,I1iIlI['AtFJzW']=!![];}const _0x3a01ef=_0x54ff7d[0x0],_0x302e48=_0x4ff605+_0x3a01ef,_0x283aae=_0x2495ae[_0x302e48];if(!_0x283aae){if(I1iIlI['BjJtat']===undefined){const _0x4f0ab4=function(_0x11fb18){this['XMCwsk']=_0x11fb18,this['FnJpWT']=[0x1,0x0,0x0],this['sEjcry']=function(){return'newState';},this['nTxsAI']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['shsavE']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4f0ab4['prototype']['vFJyGs']=function(){const _0x567fc2=new RegExp(this['nTxsAI']+this['shsavE']),_0xcba551=_0x567fc2['test'](this['sEjcry']['toString']())?--this['FnJpWT'][0x1]:--this['FnJpWT'][0x0];return this['hlsMmG'](_0xcba551);},_0x4f0ab4['prototype']['hlsMmG']=function(_0x3bf2fa){if(!Boolean(~_0x3bf2fa))return _0x3bf2fa;return this['XVObsj'](this['XMCwsk']);},_0x4f0ab4['prototype']['XVObsj']=function(_0x43e9dc){for(let _0x452e9e=0x0,_0x5b37fc=this['FnJpWT']['length'];_0x452e9e<_0x5b37fc;_0x452e9e++){this['FnJpWT']['push'](Math['round'](Math['random']())),_0x5b37fc=this['FnJpWT']['length'];}return _0x43e9dc(this['FnJpWT'][0x0]);},new _0x4f0ab4(I1iIlI)['vFJyGs'](),I1iIlI['BjJtat']=!![];}_0x4cc1f9=I1iIlI['kobWEu'](_0x4cc1f9,_0x25e43a),_0x2495ae[_0x302e48]=_0x4cc1f9;}else _0x4cc1f9=_0x283aae;return _0x4cc1f9;},I1iIlI(_0x2495ae,_0x1cb89e);}!(async()=>{const II1ii=l1iIII,iIII1i={'uMjTb':function(il1i11,IlIll1){return il1i11!==IlIll1;},'XHXvy':II1ii(0x186,'#N%f'),'XrCpI':function(IlIII,ilil1l){return IlIII(ilil1l);},'HQIdD':function(illlIi,I1lIii){return illlIi===I1lIii;},'AsHoD':II1ii(0x16b,'yvq0'),'lGZWL':II1ii(0x192,'gf^L'),'kGqcv':II1ii(0x1dc,'!b07'),'WvpyG':II1ii(0x11a,'2b9o'),'IjLWg':II1ii(0x1d4,'JOtG'),'rALEl':II1ii(0x1bd,'g7p#'),'oKvhx':II1ii(0x173,'@rjX'),'RLccf':function(IiI1I){return IiI1I();},'QCQbu':II1ii(0x112,'^ZIf'),'SyTCp':function(illlIl){return illlIl();},'uvkmK':II1ii(0x1d2,'$ofs'),'JNZhm':function(i11ill,IIIIIi){return i11ill!==IIIIIi;},'GZGaT':II1ii(0x18c,'KG%1'),'AkAYG':II1ii(0x1c0,'@jCC')};lii[II1ii(0x11b,'(Tsq')]=iIII1i[II1ii(0x126,'!svo')](II1lll,$request[II1ii(0x1b8,'nE2U')]);const [,iil1i1]=lii[II1ii(0x1d7,'GlBd')][II1ii(0x1b2,'A!aU')]('?');lii[II1ii(0x164,'M*NV')]=iil1i1?iil1i1[II1ii(0x172,'@jCC')]('&')[II1ii(0x10e,'w)vk')]((IIIIIl,I1lIil)=>{const IIIIII=II1ii;if(iIII1i[IIIIII(0x10b,'gJB&')](iIII1i[IIIIII(0x1c9,'w)vk')],iIII1i[IIIIII(0x1c1,'i9hD')])){const [liiII1,IIIl1l]=i1II1[IIIIII(0x13e,'JOtG')]('=');return iIIl11[liiII1]=IIIl1l,l1l1I1;}else{const [lllll,i11ili]=I1lIil[IIIIII(0x145,'F15c')]('=');return IIIIIl[lllll]=i11ili,IIIIIl;}},{}):{},lii[II1ii(0x1cc,'!svo')]=iIII1i[II1ii(0x1ca,'nE2U')]($request[II1ii(0x1bb,'hDiq')],iIII1i[II1ii(0x196,'C4GU')]),lii[II1ii(0x19e,'F15c')]=iIII1i[II1ii(0x143,'^ZIf')]($request[II1ii(0x156,'gJB&')],iIII1i[II1ii(0x1f2,'Yi(F')]),lii[II1ii(0x131,'Am!V')]=iIII1i[II1ii(0x143,'^ZIf')]($request[II1ii(0x18e,'0eSd')],iIII1i[II1ii(0x118,'A!aU')]),lii[II1ii(0x214,'F15c')]=iIII1i[II1ii(0x1e4,'M*NV')],lii[II1ii(0x20a,'M*NV')]=lii[II1ii(0x11f,'Yi(F')]&&/^\/query\/.*?/[II1ii(0x11c,'$ofs')](lii[II1ii(0x123,'aDdb')]),lii[II1ii(0x1ad,'s]m@')]=lii[II1ii(0x211,'fZuA')]&&/^\/api\/.*?/[II1ii(0x132,'[wTI')](lii[II1ii(0x11b,'(Tsq')]),lii[II1ii(0x1ff,'JOtG')]=lii[II1ii(0x177,'gJB&')]&&!lii[II1ii(0x1e5,'!svo')]&&!lii[II1ii(0x1d5,'qify')];if(lii[II1ii(0x1ab,'x3^J')]){if(iIII1i[II1ii(0x128,'TX4g')](iIII1i[II1ii(0x152,'zS)a')],iIII1i[II1ii(0x14f,'x3^J')])){const lllli=lI1Iil[II1ii(0x1d3,'XRO(')](lilIiI,arguments);return i1l1I=null,lllli;}else lii[II1ii(0x201,'Am!V')]=iIII1i[II1ii(0x1b0,'E@PL')],await iIII1i[II1ii(0x109,'mU!O')](handleOptions);}else{if(lii[II1ii(0x1ee,'[wTI')])iIII1i[II1ii(0x1d0,'lshq')](iIII1i[II1ii(0x1db,'Am!V')],iIII1i[II1ii(0x1d1,'nE2U')])?(lii[II1ii(0x1b1,'@rjX')]=iIII1i[II1ii(0x17c,'^ZIf')],await iIII1i[II1ii(0x1c2,'i9hD')](IllI1i)):i1illl+='-';else{if(lii[II1ii(0x1de,'G$n*')])lii[II1ii(0x13a,'i9hD')]=iIII1i[II1ii(0x10f,'KG%1')],lii[II1ii(0x208,'gf^L')]=await iIII1i[II1ii(0x144,'s]m@')](i11I1l);else{if(lii[II1ii(0x1e6,'KG%1')]){if(iIII1i[II1ii(0x1d9,'4%no')](iIII1i[II1ii(0x1bf,'0eSd')],iIII1i[II1ii(0x181,'Yi(F')])){if(IliI1I){const lllill=IliI11[II1ii(0x160,'mVml')](i1ll,arguments);return i1l1lI=null,lllill;}}else lii[II1ii(0x213,'C4GU')]=iIII1i[II1ii(0x10c,'JOtG')],await iIII1i[II1ii(0x1a7,'hDiq')](lil);}}}}})()[l1iIII(0x16c,'qify')](ill11l=>lii[l1iIII(0x1e8,'dH^g')](ill11l))[l1iIII(0x1c5,'s]m@')](()=>doneBox());async function liIl1(I1lIiI,lllili){const lillII=l1iIII,IliiiI={'fDeCb':lillII(0x17f,'xLS5'),'EevRq':function(Ill11,liiIII){return Ill11<liiIII;},'cQJTT':function(li1i11,iI11I1){return li1i11===iI11I1;},'SMhJG':function(il1i1l,IlIlll){return il1i1l===IlIlll;},'EdEKi':function(IIIl1I,iil1ii){return IIIl1I*iil1ii;},'HDlDa':function(IlIlli,il1i1i){return IlIlli(il1i1i);},'IqItz':lillII(0x1a0,'mVml'),'LbJuQ':function(lil111,i11ilI){return lil111 in i11ilI;},'OgMFl':lillII(0x162,'$ofs'),'pfkib':lillII(0x1cd,'DNvJ'),'rCgiZ':lillII(0x1df,'w)vk')};return IliiiI[lillII(0x19b,'A!aU')](void 0x0,lllili)&&(lllili=IliiiI[lillII(0x159,'nrXb')](IliiiI[lillII(0x1be,'DNvJ')],I1lIiI)?IliiiI[lillII(0x11e,'^ZIf')]:IliiiI[lillII(0x176,'gf^L')]),new Promise((ii1ii1,llllI)=>{const lI1ll1=lillII,lllil1={'VWLuM':function(iil1il,ilil1I){const ii1ilI=I1iIlI;return IliiiI[ii1ilI(0x11d,'aDdb')](iil1il,ilil1I);}};if(IliiiI[lI1ll1(0x158,'yvq0')](IliiiI[lI1ll1(0x12b,'aDdb')],IliiiI[lI1ll1(0x18a,'KG%1')]))lii[lI1ll1(0x12a,'hDiq')][lllili[lI1ll1(0x206,'4%no')]()](I1lIiI)[lI1ll1(0x170,'#KMl')](i11il1=>{const iIiI1=lI1ll1;let ii1iiI=i11il1[iIiI1(0x20f,'P%ZV')];ii1iiI=lii[iIiI1(0x149,'gJB&')](ii1iiI)||ii1iiI,lllil1[iIiI1(0x1ef,'C4GU')](ii1ii1,ii1iiI);})[lI1ll1(0x1f5,'G$n*')](lllilI=>llllI(lllilI));else{let illlI1=IliiiI[lI1ll1(0x1dd,'DNvJ')],IIIl11='';for(let I1lIi1=0x0;IliiiI[lI1ll1(0x18d,'^ZIf')](I1lIi1,0x24);I1lIi1++){IliiiI[lI1ll1(0x210,'@jCC')](I1lIi1,0x8)||IliiiI[lI1ll1(0x136,'lshq')](I1lIi1,0xd)||IliiiI[lI1ll1(0x10a,'A!aU')](I1lIi1,0x12)||IliiiI[lI1ll1(0x125,'TX4g')](I1lIi1,0x17)?IIIl11+='-':IIIl11+=illlI1[iliIII[lI1ll1(0x1ae,'P%ZV')](IliiiI[lI1ll1(0x14d,'dH^g')](iIIl1i[lI1ll1(0x1aa,'dH^g')](),illlI1[lI1ll1(0x12c,'XRO(')]))];}return IIIl11;}});}function II1lll(liiIIi){const liil1I=l1iIII,lil11I={'oFPsY':function(iIiIi,iil1ll){return iIiIi===iil1ll;},'tknzX':function(iiilil,iil1li){return iiilil-iil1li;}};var Iliii1=lil11I[liil1I(0x1e2,'s]m@')](liiIIi[liil1I(0x130,'A!aU')]('/'),lil11I[liil1I(0x14c,'Y*1H')](liiIIi[liil1I(0x133,'TX4g')],0x1))?-0x1:void 0x0;return liiIIi[liil1I(0x197,'DNvJ')](liiIIi[liil1I(0x1f7,'yvq0')]('/',lii[liil1I(0x180,'KG%1')][liil1I(0x127,'dH^g')]),Iliii1);}
// prettier-ignore
//From chavyleung's Boxjs
function doneBox() { $.isOptions ? doneOptions() : $.isPage ? donePage() : $.isQuery ? doneQuery() : $.isApi ? doneApi() : $.done() } function getBaseDoneHeaders(e = {}) { return Object.assign({ "Access-Control-Allow-Origin": "*", "Access-Control-Allow-Methods": "POST,GET,OPTIONS,PUT,DELETE", "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept" }, e) } function getHtmlDoneHeaders() { return getBaseDoneHeaders({ "Content-Type": "text/html;charset=UTF-8" }) } function getJsonDoneHeaders() { return getBaseDoneHeaders({ "Content-Type": "application/json; charset=utf-8" }) } function doneOptions() { var e = getBaseDoneHeaders(); $.isQuanX() ? $.done({ headers: e }) : $.done({ response: { headers: e } }) } function donePage() { var e = getHtmlDoneHeaders(); $.isQuanX() ? $.done({ status: "HTTP/1.1 200", headers: e, body: $.html }) : $.done({ response: { status: 200, headers: e, body: $.html } }) } function doneQuery() { $.json = $.toStr($.json); var e = getJsonDoneHeaders(); $.isQuanX() ? $.done({ status: "HTTP/1.1 200", headers: e, body: $.json }) : $.done({ response: { status: 200, headers: e, body: $.json } }) } function doneApi() { $.json = $.toStr($.json); var e = getJsonDoneHeaders(); $.isQuanX() ? $.done({ status: "HTTP/1.1 200", headers: e, body: $.json }) : $.done({ response: { status: 200, headers: e, body: $.json } }) }
//From chavyleung's Env.js
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, a) => { s.call(this, t, (t, s, r) => { t ? a(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.encoding = "utf-8", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } getEnv() { return "undefined" != typeof $environment && $environment["surge-version"] ? "Surge" : "undefined" != typeof $environment && $environment["stash-version"] ? "Stash" : "undefined" != typeof module && module.exports ? "Node.js" : "undefined" != typeof $task ? "Quantumult X" : "undefined" != typeof $loon ? "Loon" : "undefined" != typeof $rocket ? "Shadowrocket" : void 0 } isNode() { return "Node.js" === this.getEnv() } isQuanX() { return "Quantumult X" === this.getEnv() } isSurge() { return "Surge" === this.getEnv() } isLoon() { return "Loon" === this.getEnv() } isShadowrocket() { return "Shadowrocket" === this.getEnv() } isStash() { return "Stash" === this.getEnv() } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const a = this.getdata(t); if (a) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, a) => e(a)) }) } runScript(t, e) { return new Promise(s => { let a = this.getdata("@chavy_boxjs_userCfgs.httpapi"); a = a ? a.replace(/\n/g, "").trim() : a; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [i, o] = a.split("@"), n = { url: `http://${o}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": i, Accept: "*/*" }, timeout: r }; this.post(n, (t, e, a) => s(a)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), a = !s && this.fs.existsSync(e); if (!s && !a) return {}; { const a = s ? t : e; try { return JSON.parse(this.fs.readFileSync(a)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), a = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : a ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const a = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of a) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, a) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[a + 1]) >> 0 == +e[a + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, a] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, a, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, a, r] = /^@(.*?)\.(.*?)$/.exec(e), i = this.getval(a), o = a ? "null" === i ? null : i || "{}" : "{}"; try { const e = JSON.parse(o); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), a) } catch (e) { const i = {}; this.lodash_set(i, r, t), s = this.setval(JSON.stringify(i), a) } } else s = this.setval(t, e); return s } getval(t) { switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": return $persistentStore.read(t); case "Quantumult X": return $prefs.valueForKey(t); case "Node.js": return this.data = this.loaddata(), this.data[t]; default: return this.data && this.data[t] || null } } setval(t, e) { switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": return $persistentStore.write(t, e); case "Quantumult X": return $prefs.setValueForKey(t, e); case "Node.js": return this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0; default: return this.data && this.data[e] || null } } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { switch (t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"], delete t.headers["content-type"], delete t.headers["content-length"]), t.params && (t.url += "?" + this.queryStr(t.params)), this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": default: this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, a) => { !t && s && (s.body = a, s.statusCode = s.status ? s.status : s.statusCode, s.status = s.statusCode), e(t, s, a) }); break; case "Quantumult X": this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: a, headers: r, body: i, bodyBytes: o } = t; e(null, { status: s, statusCode: a, headers: r, body: i, bodyBytes: o }, i, o) }, t => e(t && t.error || "UndefinedError")); break; case "Node.js": let s = require("iconv-lite"); this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: a, statusCode: r, headers: i, rawBody: o } = t, n = s.decode(o, this.encoding); e(null, { status: a, statusCode: r, headers: i, rawBody: o, body: n }, n) }, t => { const { message: a, response: r } = t; e(a, r, r && s.decode(r.rawBody, this.encoding)) }) } } post(t, e = (() => { })) { const s = t.method ? t.method.toLocaleLowerCase() : "post"; switch (t.body && t.headers && !t.headers["Content-Type"] && !t.headers["content-type"] && (t.headers["content-type"] = "application/x-www-form-urlencoded"), t.headers && (delete t.headers["Content-Length"], delete t.headers["content-length"]), this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": default: this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient[s](t, (t, s, a) => { !t && s && (s.body = a, s.statusCode = s.status ? s.status : s.statusCode, s.status = s.statusCode), e(t, s, a) }); break; case "Quantumult X": t.method = s, this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: a, headers: r, body: i, bodyBytes: o } = t; e(null, { status: s, statusCode: a, headers: r, body: i, bodyBytes: o }, i, o) }, t => e(t && t.error || "UndefinedError")); break; case "Node.js": let a = require("iconv-lite"); this.initGotEnv(t); const { url: r, ...i } = t; this.got[s](r, i).then(t => { const { statusCode: s, statusCode: r, headers: i, rawBody: o } = t, n = a.decode(o, this.encoding); e(null, { status: s, statusCode: r, headers: i, rawBody: o, body: n }, n) }, t => { const { message: s, response: r } = t; e(s, r, r && a.decode(r.rawBody, this.encoding)) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let a = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in a) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? a[e] : ("00" + a[e]).substr(("" + a[e]).length))); return t } queryStr(t) { let e = ""; for (const s in t) { let a = t[s]; null != a && "" !== a && ("object" == typeof a && (a = JSON.stringify(a)), e += `${s}=${a}&`) } return e = e.substring(0, e.length - 1), e } msg(e = t, s = "", a = "", r) { const i = t => { switch (typeof t) { case void 0: return t; case "string": switch (this.getEnv()) { case "Surge": case "Stash": default: return { url: t }; case "Loon": case "Shadowrocket": return t; case "Quantumult X": return { "open-url": t }; case "Node.js": return }case "object": switch (this.getEnv()) { case "Surge": case "Stash": case "Shadowrocket": default: { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } case "Loon": { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } case "Quantumult X": { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl, a = t["update-pasteboard"] || t.updatePasteboard; return { "open-url": e, "media-url": s, "update-pasteboard": a } } case "Node.js": return }default: return } }; if (!this.isMute) switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": default: $notification.post(e, s, a, i(r)); break; case "Quantumult X": $notify(e, s, a, i(r)); break; case "Node.js": }if (!this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), a && t.push(a), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": case "Quantumult X": default: this.log("", `❗️${this.name}, 错误!`, t); break; case "Node.js": this.log("", `❗️${this.name}, 错误!`, t.stack) } } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; switch (this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": case "Quantumult X": default: $done(t); break; case "Node.js": process.exit(1) } } }(t, e) }