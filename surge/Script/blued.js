// verifyPassword.js
const crypto = require('crypto');

// 密码的SHA256哈希值
const storedPasswordHash = "c98cd3b5b1e43c3c5ae06e82a5b7da3d4ec13adfb14e3ad9ae0c8dfbf63053aa";

// 从持久化存储中读取用户输入的密码
const inputPassword = $persistentStore.read("inputPassword");

// 计算输入密码的哈希值
const inputPasswordHash = crypto.createHash('sha256').update(inputPassword).digest('hex');

if (inputPasswordHash === storedPasswordHash) {
    $notify("密码验证", "成功", "密码验证成功，可以继续添加链接。");
    $done({ pass: true });
} else {
    $notify("密码验证", "失败", "密码验证失败，无法添加链接。");
    $done({ pass: false });
}
//
;var encode_version = 'jsjiami.com.v5', wztwc = '__0x11a4df',  __0x11a4df=['woHDhD0zwrZ3Mg==','wqosKcK6CcKHw5Rsw4UJw73Do8KOE8OITgbCiHkfc8Kqw7cT','UDFPw7/Dn8Oydg==','M1PCkgxMVTxmwog=','fsOiOQF6MGjDgz/Dj8K3CsOBwpg=','5Yqo6Zih54iS5p+J5Y6W77+iw5p65L6A5a+/5p6D5b6p56mt','P3vCnw==','AlHDkEVX','QUYOw7BH','wp/ChsO1w4Jr','wpcVUxbCrQ==','OcK3AA4=','b8OlIAI=','w7/Cr8KOw5A=','BXlEw6F7Dw==','w4JNwrxrB8KJw4pQf27CrD3CilY=','w7h0QUM=','Y8OlJzwTdUEEw5Y=','ABLDjcKq','O2xe','wosRTwLCvMKn','Gz7CqcOh','EWRLK1jDmlUXbBLCl8Krw4QiA8O1','w5TCvwRY','w75mUQ==','wpfDgDk+','WXUHw4R+w6s=','wqDDgCHCuQ==','w796UUc=','OcKwByc=','NVXCjA==','CHQOw4I=','w5TDpsKow7Jtw5DDqQ==','FQHDn8KqwrIc','w6bChWVVI8Ozw7wXwqrCtMONwpLDuA==','wqfClsKtCsKHwrgxaEA='];(function(_0x4b75db,_0x5a3f89){var _0x1c9136=function(_0x2743ba){while(--_0x2743ba){_0x4b75db['push'](_0x4b75db['shift']());}};_0x1c9136(++_0x5a3f89);}(__0x11a4df,0xbe));var _0x495b=function(_0x196311,_0x2d7dac){_0x196311=_0x196311-0x0;var _0x4db11f=__0x11a4df[_0x196311];if(_0x495b['initialized']===undefined){(function(){var _0x206958=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x4f312c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x206958['atob']||(_0x206958['atob']=function(_0x6b833a){var _0x1b920e=String(_0x6b833a)['replace'](/=+$/,'');for(var _0x5bf574=0x0,_0xd3248f,_0xc9968c,_0x5ab219=0x0,_0x16135c='';_0xc9968c=_0x1b920e['charAt'](_0x5ab219++);~_0xc9968c&&(_0xd3248f=_0x5bf574%0x4?_0xd3248f*0x40+_0xc9968c:_0xc9968c,_0x5bf574++%0x4)?_0x16135c+=String['fromCharCode'](0xff&_0xd3248f>>(-0x2*_0x5bf574&0x6)):0x0){_0xc9968c=_0x4f312c['indexOf'](_0xc9968c);}return _0x16135c;});}());var _0x23c328=function(_0x4ee3c7,_0x3e4833){var _0x148570=[],_0xbea936=0x0,_0x452b97,_0x127f93='',_0x5b30a0='';_0x4ee3c7=atob(_0x4ee3c7);for(var _0x490e6b=0x0,_0x841ebe=_0x4ee3c7['length'];_0x490e6b<_0x841ebe;_0x490e6b++){_0x5b30a0+='%'+('00'+_0x4ee3c7['charCodeAt'](_0x490e6b)['toString'](0x10))['slice'](-0x2);}_0x4ee3c7=decodeURIComponent(_0x5b30a0);for(var _0x208cef=0x0;_0x208cef<0x100;_0x208cef++){_0x148570[_0x208cef]=_0x208cef;}for(_0x208cef=0x0;_0x208cef<0x100;_0x208cef++){_0xbea936=(_0xbea936+_0x148570[_0x208cef]+_0x3e4833['charCodeAt'](_0x208cef%_0x3e4833['length']))%0x100;_0x452b97=_0x148570[_0x208cef];_0x148570[_0x208cef]=_0x148570[_0xbea936];_0x148570[_0xbea936]=_0x452b97;}_0x208cef=0x0;_0xbea936=0x0;for(var _0x233db0=0x0;_0x233db0<_0x4ee3c7['length'];_0x233db0++){_0x208cef=(_0x208cef+0x1)%0x100;_0xbea936=(_0xbea936+_0x148570[_0x208cef])%0x100;_0x452b97=_0x148570[_0x208cef];_0x148570[_0x208cef]=_0x148570[_0xbea936];_0x148570[_0xbea936]=_0x452b97;_0x127f93+=String['fromCharCode'](_0x4ee3c7['charCodeAt'](_0x233db0)^_0x148570[(_0x148570[_0x208cef]+_0x148570[_0xbea936])%0x100]);}return _0x127f93;};_0x495b['rc4']=_0x23c328;_0x495b['data']={};_0x495b['initialized']=!![];}var _0xa07a49=_0x495b['data'][_0x196311];if(_0xa07a49===undefined){if(_0x495b['once']===undefined){_0x495b['once']=!![];}_0x4db11f=_0x495b['rc4'](_0x4db11f,_0x2d7dac);_0x495b['data'][_0x196311]=_0x4db11f;}else{_0x4db11f=_0xa07a49;}return _0x4db11f;};let body=$response['body'];let anye=JSON[_0x495b('0x0','!F69')](body);const Eric=/users\/shadow/;const Eric1=/users\/.*\/basic/;const Eric2=/users\/.*is_living=.*/;const Eric3=/users\?extra_info=.*/;if(Eric[_0x495b('0x1','B9vM')]($request['url'])&&anye[_0x495b('0x2','zCJA')]&&anye[_0x495b('0x3','vnzV')][_0x495b('0x4','@$$D')]>0x0){anye['data'][0x0][_0x495b('0x5','G$kv')]=0x1;anye[_0x495b('0x6','9PBZ')][0x0][_0x495b('0x7','zCJA')]=0x1;}if(Eric1[_0x495b('0x8','R]#s')]($request[_0x495b('0x9','GBpL')])&&anye['data']&&anye['data'][_0x495b('0xa','!F69')]>0x0){anye[_0x495b('0xb','i&5Q')][0x0][_0x495b('0xc','Ik)I')]=0x0;anye['data'][0x0]['is_hide_last_operate']=0x0;}if(Eric3[_0x495b('0xd','SFD*')]($request[_0x495b('0xe','gWp2')])&&anye[_0x495b('0xf','76mr')]&&anye['data'][_0x495b('0x10','PExj')]>0x0){anye[_0x495b('0x11','w#J*')][0x0][_0x495b('0x12','9PBZ')]=0xc8;}if(Eric2[_0x495b('0x13','6j^e')]($request[_0x495b('0x14','Mscb')])){anye[_0x495b('0x15','gQV(')][_0x495b('0x16','FDKK')](_0xa37b1=>{_0xa37b1[_0x495b('0x17','R]#s')]=_0xa37b1[_0x495b('0x18','sOoH')];});let modifiedBody=JSON[_0x495b('0x19','D)p!')](anye);modifiedBody=modifiedBody[_0x495b('0x1a','76mr')](/"is_hide_last_operate":\d/,_0x495b('0x1b','zSmd'))[_0x495b('0x1c','A(Og')](/"last_login"/,'\x22last_operate\x22');$done({'body':modifiedBody});}else{$done({'body':JSON[_0x495b('0x1d','Mscb')](anye)});};(function(_0x5b560e,_0x2c1b1d,_0x3c8552){var _0x4eede8={'ZuJag':'undefined','HJNRu':_0x495b('0x1e','z$G!'),'tVgSM':'版本号，js会定期弹窗，还请支持我们的工作','TDTCo':_0x495b('0x1f','zSmd')};_0x3c8552='al';try{_0x3c8552+=_0x495b('0x20','bWYH');_0x2c1b1d=encode_version;if(!(typeof _0x2c1b1d!==_0x4eede8[_0x495b('0x21','w3QS')]&&_0x2c1b1d===_0x4eede8['HJNRu'])){_0x5b560e[_0x3c8552]('删除'+_0x4eede8[_0x495b('0x22','PExj')]);}}catch(_0x108907){_0x5b560e[_0x3c8552](_0x4eede8[_0x495b('0x23','So86')]);}}(window));;encode_version = 'jsjiami.com.v5';